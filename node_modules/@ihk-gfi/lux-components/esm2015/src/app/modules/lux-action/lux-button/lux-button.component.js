import * as tslib_1 from "tslib";
import { Component, ElementRef, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';
import { LuxComponentsConfigService } from '../../lux-components-config/lux-components-config.service';
import { LuxActionComponentBaseClass } from '../lux-action-model/lux-action-component-base.class';
let LuxButtonComponent = class LuxButtonComponent extends LuxActionComponentBaseClass {
    constructor(elementRef, componentsConfigService) {
        super();
        this.elementRef = elementRef;
        this.componentsConfigService = componentsConfigService;
        this.iconSize = '2x';
        this.luxType = 'button';
    }
    ngOnInit() {
        this.configSubscription = this.componentsConfigService.config.subscribe(() => {
            // Hintergrund: LuxLink, LuxSideNavItem und LuxMenuItem benutzen alle unter der Haube
            // den LuxButton. Wenn diese nun als Ausnahmen f端r Uppercase in der Config eingetragen werden,
            // darf eine Uppercase-Einstellung f端r den LuxButton diese nicht 端berschreiben.
            // Deshalb pr端ft der LuxButton hier, ob er Teil einer dieser Komponenten ist.
            this.detectParent();
        });
    }
    ngOnDestroy() {
        this.configSubscription.unsubscribe();
    }
    clicked(event) {
        this.luxClicked.emit(event);
    }
    detectParent() {
        const className = this.elementRef.nativeElement.className;
        let selector = 'lux-button';
        if (className.indexOf('lux-link') > -1) {
            selector = 'lux-link';
        }
        else if (className.indexOf('lux-side-nav-item') > -1) {
            selector = 'lux-side-nav-item';
        }
        else if (className.indexOf('lux-menu-item') > -1) {
            selector = 'lux-menu-item';
        }
        this.labelUppercase = this.componentsConfigService.isLabelUppercaseForSelector(selector);
    }
};
LuxButtonComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: LuxComponentsConfigService }
];
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", String)
], LuxButtonComponent.prototype, "luxType", void 0);
tslib_1.__decorate([
    HostBinding('class.lux-uppercase'),
    tslib_1.__metadata("design:type", Boolean)
], LuxButtonComponent.prototype, "labelUppercase", void 0);
LuxButtonComponent = tslib_1.__decorate([
    Component({
        selector: 'lux-button',
        template: "<button\n  *ngIf=\"luxRaised && !luxRounded\"\n  mat-raised-button\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n\n<button\n  *ngIf=\"!luxRaised && !luxRounded\"\n  mat-button\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n\n<button\n  *ngIf=\"luxRounded\"\n  mat-fab\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center lux-button-rounded mat-elevation-z1\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n<ng-template #iconTemplate>\n  <lux-icon [luxIconName]=\"luxIconName\" [luxIconSize]=\"iconSize\" luxMargin=\"0\" luxPadding=\"0\"></lux-icon>\n</ng-template>\n<ng-template #noIconTemplate></ng-template>\n",
        styles: [".lux-align-baseline{padding-bottom:8px!important}.lux-align-baseline ::ng-deep .mat-button-wrapper{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.lux-button-label{line-height:1}.lux-icon-button{height:45px;padding-top:4px;padding-bottom:2px}.lux-icon-button.mat-fab{width:45px}.lux-icon-button.mat-fab ::ng-deep lux-icon i,.lux-icon-button.mat-fab ::ng-deep lux-icon mat-icon{font-size:1.5em}.lux-icon-button.mat-fab ::ng-deep .mat-button-wrapper{padding:0}:host ::ng-deep .mat-button-wrapper{height:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host ::ng-deep lux-icon{line-height:1}:host ::ng-deep lux-iconi,:host ::ng-deep lux-iconmat-icon{line-height:1}:host ::ng-deep lux-iconi{display:block}"]
    }),
    tslib_1.__metadata("design:paramtypes", [ElementRef, LuxComponentsConfigService])
], LuxButtonComponent);
export { LuxButtonComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LWJ1dHRvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AaWhrLWdmaS9sdXgtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sdXgtYWN0aW9uL2x1eC1idXR0b24vbHV4LWJ1dHRvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RixPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSwyREFBMkQsQ0FBQztBQUV2RyxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQU9sRyxJQUFhLGtCQUFrQixHQUEvQixNQUFhLGtCQUFtQixTQUFRLDJCQUEyQjtJQVNqRSxZQUFtQixVQUFzQixFQUFTLHVCQUFtRDtRQUNuRyxLQUFLLEVBQUUsQ0FBQztRQURTLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBUyw0QkFBdUIsR0FBdkIsdUJBQXVCLENBQTRCO1FBUnJGLGFBQVEsR0FBVyxJQUFJLENBQUM7UUFJL0IsWUFBTyxHQUFrQyxRQUFRLENBQUM7SUFNM0QsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQzNFLHFGQUFxRjtZQUNyRiw4RkFBOEY7WUFDOUYsK0VBQStFO1lBQy9FLDZFQUE2RTtZQUM3RSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQVU7UUFDaEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVPLFlBQVk7UUFDbEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzFELElBQUksUUFBUSxHQUFHLFlBQVksQ0FBQztRQUM1QixJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDdEMsUUFBUSxHQUFHLFVBQVUsQ0FBQztTQUN2QjthQUFNLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ3RELFFBQVEsR0FBRyxtQkFBbUIsQ0FBQztTQUNoQzthQUFNLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNsRCxRQUFRLEdBQUcsZUFBZSxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsMkJBQTJCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDM0YsQ0FBQztDQUNGLENBQUE7O1lBbENnQyxVQUFVO1lBQWtDLDBCQUEwQjs7QUFKNUY7SUFBUixLQUFLLEVBQUU7O21EQUFtRDtBQUV2QjtJQUFuQyxXQUFXLENBQUMscUJBQXFCLENBQUM7OzBEQUF5QjtBQVBqRCxrQkFBa0I7SUFMOUIsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLFlBQVk7UUFDdEIsOHRFQUEwQzs7S0FFM0MsQ0FBQzs2Q0FVK0IsVUFBVSxFQUFrQywwQkFBMEI7R0FUMUYsa0JBQWtCLENBMkM5QjtTQTNDWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEhvc3RCaW5kaW5nLCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEx1eENvbXBvbmVudHNDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vbHV4LWNvbXBvbmVudHMtY29uZmlnL2x1eC1jb21wb25lbnRzLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTHV4QWN0aW9uQ29tcG9uZW50QmFzZUNsYXNzIH0gZnJvbSAnLi4vbHV4LWFjdGlvbi1tb2RlbC9sdXgtYWN0aW9uLWNvbXBvbmVudC1iYXNlLmNsYXNzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbHV4LWJ1dHRvbicsXG4gIHRlbXBsYXRlVXJsOiAnLi9sdXgtYnV0dG9uLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbHV4LWJ1dHRvbi5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEx1eEJ1dHRvbkNvbXBvbmVudCBleHRlbmRzIEx1eEFjdGlvbkNvbXBvbmVudEJhc2VDbGFzcyBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgcHVibGljIHJlYWRvbmx5IGljb25TaXplOiBzdHJpbmcgPSAnMngnO1xuXG4gIHByaXZhdGUgY29uZmlnU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgQElucHV0KCkgbHV4VHlwZTogJ2J1dHRvbicgfCAncmVzZXQnIHwgJ3N1Ym1pdCcgPSAnYnV0dG9uJztcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmx1eC11cHBlcmNhc2UnKSBsYWJlbFVwcGVyY2FzZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHVibGljIGNvbXBvbmVudHNDb25maWdTZXJ2aWNlOiBMdXhDb21wb25lbnRzQ29uZmlnU2VydmljZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmNvbmZpZ1N1YnNjcmlwdGlvbiA9IHRoaXMuY29tcG9uZW50c0NvbmZpZ1NlcnZpY2UuY29uZmlnLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAvLyBIaW50ZXJncnVuZDogTHV4TGluaywgTHV4U2lkZU5hdkl0ZW0gdW5kIEx1eE1lbnVJdGVtIGJlbnV0emVuIGFsbGUgdW50ZXIgZGVyIEhhdWJlXG4gICAgICAvLyBkZW4gTHV4QnV0dG9uLiBXZW5uIGRpZXNlIG51biBhbHMgQXVzbmFobWVuIGbDvHIgVXBwZXJjYXNlIGluIGRlciBDb25maWcgZWluZ2V0cmFnZW4gd2VyZGVuLFxuICAgICAgLy8gZGFyZiBlaW5lIFVwcGVyY2FzZS1FaW5zdGVsbHVuZyBmw7xyIGRlbiBMdXhCdXR0b24gZGllc2UgbmljaHQgw7xiZXJzY2hyZWliZW4uXG4gICAgICAvLyBEZXNoYWxiIHByw7xmdCBkZXIgTHV4QnV0dG9uIGhpZXIsIG9iIGVyIFRlaWwgZWluZXIgZGllc2VyIEtvbXBvbmVudGVuIGlzdC5cbiAgICAgIHRoaXMuZGV0ZWN0UGFyZW50KCk7XG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbmZpZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgY2xpY2tlZChldmVudDogYW55KSB7XG4gICAgdGhpcy5sdXhDbGlja2VkLmVtaXQoZXZlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBkZXRlY3RQYXJlbnQoKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NOYW1lO1xuICAgIGxldCBzZWxlY3RvciA9ICdsdXgtYnV0dG9uJztcbiAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2x1eC1saW5rJykgPiAtMSkge1xuICAgICAgc2VsZWN0b3IgPSAnbHV4LWxpbmsnO1xuICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2x1eC1zaWRlLW5hdi1pdGVtJykgPiAtMSkge1xuICAgICAgc2VsZWN0b3IgPSAnbHV4LXNpZGUtbmF2LWl0ZW0nO1xuICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2x1eC1tZW51LWl0ZW0nKSA+IC0xKSB7XG4gICAgICBzZWxlY3RvciA9ICdsdXgtbWVudS1pdGVtJztcbiAgICB9XG4gICAgdGhpcy5sYWJlbFVwcGVyY2FzZSA9IHRoaXMuY29tcG9uZW50c0NvbmZpZ1NlcnZpY2UuaXNMYWJlbFVwcGVyY2FzZUZvclNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxufVxuIl19