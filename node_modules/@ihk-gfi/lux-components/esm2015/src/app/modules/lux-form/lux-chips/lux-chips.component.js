import * as tslib_1 from "tslib";
import { Component, ContentChildren, EventEmitter, Input, Optional, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';
import { ControlContainer } from '@angular/forms';
import { MatAutocomplete, MatAutocompleteTrigger, MatChip } from '@angular/material';
import { LuxChipGroupComponent } from './lux-chips-subcomponents/lux-chip-group.component';
import { LuxChipComponent } from './lux-chips-subcomponents/lux-chip.component';
import { Subject, Subscription } from 'rxjs';
import { distinctUntilChanged, map, startWith } from 'rxjs/operators';
let LuxChipsComponent = class LuxChipsComponent {
    constructor(controlContainer) {
        this.controlContainer = controlContainer;
        this.inputValueSubscription = new Subscription();
        this.newChipSubscription = new Subscription();
        this._luxDisabled = false;
        this._luxAutocompleteOptions = [];
        this._luxLabel = 'Neu';
        this.filteredOptions = [];
        this.inputValue$ = new Subject();
        this.newChip$ = new Subject();
        this.luxOrientation = 'horizontal';
        this.luxInputAllowed = false;
        this.luxMultiple = true;
        this.luxChipAdded = new EventEmitter();
        this.newChipSubscription = this.newChip$.subscribe((value) => {
            this.add(value);
            this.filteredOptions = this.luxAutocompleteOptions ? this.luxAutocompleteOptions : [];
        });
        this.inputValueSubscription = this.inputValue$
            .asObservable()
            .pipe(startWith(''), distinctUntilChanged(), map((value) => {
            if (!value) {
                this.filteredOptions = [...this.luxAutocompleteOptions];
            }
            else {
                this.filteredOptions = this.luxAutocompleteOptions.filter((compareValue) => compareValue
                    .trim()
                    .toLowerCase()
                    .indexOf(value.trim().toLowerCase()) > -1);
            }
        }))
            .subscribe();
    }
    get luxDisabled() {
        return this._luxDisabled;
    }
    set luxDisabled(disabled) {
        this._luxDisabled = disabled;
        setTimeout(() => {
            this.luxChipGroupComponents.forEach(chipGroup => (chipGroup.luxDisabled = disabled));
            this.luxChipComponents.forEach(chip => (chip.luxDisabled = disabled));
        });
    }
    get luxAutocompleteOptions() {
        return this._luxAutocompleteOptions;
    }
    set luxAutocompleteOptions(options) {
        this._luxAutocompleteOptions = options ? options : [];
        this.filteredOptions = this.luxAutocompleteOptions;
    }
    get luxInputLabel() {
        return this._luxLabel;
    }
    set luxInputLabel(label) {
        this._luxLabel = label;
    }
    // Für lux-form-control, diese ruft luxLabel auf
    get luxLabel() {
        return this._luxLabel;
    }
    get chipComponents() {
        return this.luxChipComponents;
    }
    get chipGroupComponents() {
        return this.luxChipGroupComponents;
    }
    ngOnDestroy() {
        if (this.newChipSubscription) {
            this.newChipSubscription.unsubscribe();
        }
        if (this.inputValueSubscription) {
            this.inputValueSubscription.unsubscribe();
        }
    }
    /**
     * Fuegt einen Chip hinzu.
     * Fuegt ihn entweder der explizit mitgeteilten newChipList hinzu oder einfach
     * der letzten mitgegebenen Liste.
     * @param value
     */
    add(value) {
        if (value && value.trim().length > 0) {
            if (this.luxNewChipGroup) {
                this.luxNewChipGroup.add(value);
            }
            else {
                this.luxChipAdded.emit(value);
            }
            // Autocomplete-Feld in jedem Fall schließen (Delay über Timeout, damit kein visuelles Flackern entsteht)
            setTimeout(() => this.matAutocompleteTrigger.closePanel());
        }
    }
    /**
     * Wird bei Eingabe von Werten in das Input-Feld aufgerufen und schreibt einen neuen Wert
     * in das inputValue-Subject.
     * @param value
     */
    inputChanged(value) {
        this.inputValue$.next(value);
    }
    /**
     * Wird beim Selektieren einer Option im Autocomplete ausgeführt.
     * @param input
     * @param value
     */
    autoCompleteAdd(input, value) {
        this.newChip$.next(value);
        input.value = '';
    }
    /**
     * Wird beim Input-Event des Eingabefelds ausgeführt, fragt aber vorher ab, ob das Autocomplete offen ist.
     * Wenn ja, wird kein neuer Chip erzeugt, da das Autocomplete dies übernimmt.
     * @param input
     */
    inputAdd(input) {
        if (!this.matAutocomplete.isOpen) {
            // falls nur eine Option übrig ist, diese als value nehmen anstelle des input textes
            if (this.luxAutocompleteOptions &&
                this.luxAutocompleteOptions.length > 1 &&
                this.filteredOptions &&
                this.filteredOptions.length === 1) {
                this.newChip$.next(this.filteredOptions[0]);
                input.value = '';
            }
            else {
                this.newChip$.next(input.value);
                input.value = '';
            }
        }
    }
};
LuxChipsComponent.ctorParameters = () => [
    { type: ControlContainer, decorators: [{ type: Optional }] }
];
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", String)
], LuxChipsComponent.prototype, "luxOrientation", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Boolean)
], LuxChipsComponent.prototype, "luxInputAllowed", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", LuxChipGroupComponent)
], LuxChipsComponent.prototype, "luxNewChipGroup", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Boolean)
], LuxChipsComponent.prototype, "luxMultiple", void 0);
tslib_1.__decorate([
    Output(),
    tslib_1.__metadata("design:type", Object)
], LuxChipsComponent.prototype, "luxChipAdded", void 0);
tslib_1.__decorate([
    ContentChildren(LuxChipComponent),
    tslib_1.__metadata("design:type", QueryList)
], LuxChipsComponent.prototype, "luxChipComponents", void 0);
tslib_1.__decorate([
    ContentChildren(LuxChipGroupComponent),
    tslib_1.__metadata("design:type", QueryList)
], LuxChipsComponent.prototype, "luxChipGroupComponents", void 0);
tslib_1.__decorate([
    ViewChildren(MatChip),
    tslib_1.__metadata("design:type", QueryList)
], LuxChipsComponent.prototype, "matChips", void 0);
tslib_1.__decorate([
    ViewChild('input', { read: MatAutocompleteTrigger, static: false }),
    tslib_1.__metadata("design:type", MatAutocompleteTrigger)
], LuxChipsComponent.prototype, "matAutocompleteTrigger", void 0);
tslib_1.__decorate([
    ViewChild('auto', { read: MatAutocomplete, static: false }),
    tslib_1.__metadata("design:type", MatAutocomplete)
], LuxChipsComponent.prototype, "matAutocomplete", void 0);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Boolean),
    tslib_1.__metadata("design:paramtypes", [Boolean])
], LuxChipsComponent.prototype, "luxDisabled", null);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Array),
    tslib_1.__metadata("design:paramtypes", [Array])
], LuxChipsComponent.prototype, "luxAutocompleteOptions", null);
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", String),
    tslib_1.__metadata("design:paramtypes", [String])
], LuxChipsComponent.prototype, "luxInputLabel", null);
LuxChipsComponent = tslib_1.__decorate([
    Component({
        selector: 'lux-chips',
        template: "<div class=\"lux-chips\" fxLayout=\"column\">\n  <lux-form-control\n    [luxScalableHeight]=\"true\"\n    [luxFormComponent]=\"this\"\n    [luxHideBottomBorder]=\"!luxInputAllowed\"\n    [luxIgnoreDefaultLabel]=\"!luxInputAllowed\"\n  >\n    <mat-chip-list\n      [ngClass]=\"[\n        luxOrientation.toLocaleLowerCase() === 'vertical' ? 'mat-chip-list-stacked' : 'mat-chip-list-horizontal',\n        luxOrientation === 'horizontal' && luxInputAllowed ? 'lux-chips-list-offset' : 'lux-chips-list'\n      ]\"\n      [disabled]=\"luxDisabled\"\n      [aria-orientation]=\"luxOrientation\"\n      [multiple]=\"luxMultiple\"\n      #chips\n    >\n      <!-- Direkte Chip-Components -->\n      <ng-container *ngFor=\"let chip of chipComponents; let i = index\">\n        <mat-chip\n          [removable]=\"chip.luxRemovable\"\n          [disabled]=\"chip.luxDisabled\"\n          [selectable]=\"!chip.luxDisabled\"\n          [selected]=\"chip.luxSelected\"\n          [color]=\"chip.luxColor\"\n          (keydown.delete)=\"chip.remove(i)\"\n          (selectionChange)=\"chip.select($event.selected, i)\"\n          (click)=\"chip.click(i)\"\n        >\n          <ng-template *ngTemplateOutlet=\"chip.templateRef\"></ng-template>\n          <lux-icon\n            matChipRemove\n            luxIconName=\"cancel\"\n            luxMargin=\"0 0 0 6px\"\n            luxPadding=\"2px\"\n            class=\"lux-cursor\"\n            (click)=\"chip.remove(i)\"\n            *ngIf=\"chip.luxRemovable\"\n          ></lux-icon>\n        </mat-chip>\n      </ng-container>\n\n      <!-- Chips via ChipGroup-Components -->\n      <ng-container *ngFor=\"let chipGroup of chipGroupComponents\">\n        <ng-container *ngFor=\"let label of chipGroup.luxLabels; let i = index\">\n          <mat-chip\n            [removable]=\"chipGroup.luxRemovable\"\n            [disabled]=\"chipGroup.luxDisabled\"\n            [selectable]=\"!chipGroup.luxDisabled\"\n            [selected]=\"chipGroup.luxSelected\"\n            [color]=\"chipGroup.luxColor\"\n            (keydown.delete)=\"chipGroup.remove(i)\"\n            (selectionChange)=\"chipGroup.select($event.selected, i)\"\n            (click)=\"chipGroup.click(i)\"\n          >\n            <ng-container\n              *ngTemplateOutlet=\"chipGroup.tempRef ? chipGroup.tempRef : noTemplateRef; context: { $implicit: label }\"\n            ></ng-container>\n            <lux-icon\n              matChipRemove\n              luxIconName=\"cancel\"\n              luxMargin=\"0 0 0 6px\"\n              luxPadding=\"2px\"\n              class=\"lux-cursor\"\n              (click)=\"chipGroup.remove(i)\"\n              *ngIf=\"chipGroup.luxRemovable\"\n            ></lux-icon>\n          </mat-chip>\n        </ng-container>\n      </ng-container>\n\n      <ng-container *ngIf=\"luxInputAllowed\">\n        <input\n          [matChipInputFor]=\"chips\"\n          [matChipInputAddOnBlur]=\"true\"\n          [matAutocomplete]=\"auto\"\n          [disabled]=\"luxDisabled\"\n          (matChipInputTokenEnd)=\"inputAdd(input)\"\n          (keyup)=\"inputChanged(input.value)\"\n          type=\"text\"\n          fxFlex=\"1 1 auto\"\n          #input\n        />\n        <mat-autocomplete\n          [class]=\"'lux-autocomplete-panel'\"\n          (optionSelected)=\"autoCompleteAdd(input, $event.option.value)\"\n          #auto=\"matAutocomplete\"\n        >\n          <mat-option *ngFor=\"let option of filteredOptions\" [value]=\"option\">\n            {{ option }}\n          </mat-option>\n        </mat-autocomplete>\n      </ng-container>\n    </mat-chip-list>\n  </lux-form-control>\n</div>\n\n<ng-template #noTemplateRef let-label>\n  {{ label }}\n</ng-template>\n",
        styles: ["@charset \"UTF-8\";lux-side-nav .lux-side-nav-item,lux-side-nav lux-link{box-sizing:border-box}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected,lux-side-nav lux-link.lux-side-nav-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected:after,lux-side-nav lux-link.lux-side-nav-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-side-nav .lux-side-nav-item button .mat-button-focus-overlay,lux-side-nav lux-link button .mat-button-focus-overlay{display:none}lux-side-nav .lux-side-nav-item button:focus,lux-side-nav lux-link button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-side-nav .lux-side-nav-item button:hover,lux-side-nav lux-link button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-list{border:4px solid transparent}lux-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-list lux-list-item:focus{outline-width:0}lux-list lux-list-item:focus mat-card{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-list lux-list-item lux-card mat-card{box-sizing:border-box}lux-list lux-list-item lux-card mat-card:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-label>*{color:#335c85}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb{position:relative}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-container:after{content:'';display:block;box-sizing:border-box;left:0;right:0;position:absolute;height:2px;border-bottom:2px solid #0073b3}lux-datepicker mat-datepicker-toggle button:focus:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}.lux-datepicker-panel .mat-calendar-header button .mat-button-focus-overlay,lux-datepicker mat-datepicker-toggle .mat-button-focus-overlay{display:none}.lux-datepicker-panel .mat-calendar-header button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-header button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell:hover>div{background-color:rgba(0,0,0,.2)!important;border-radius:999px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell.mat-calendar-body-active>div{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:999px}lux-table tr:hover>td,lux-table tr:hover>th{border-radius:0;background-color:#cfcfcf!important}lux-table th button.mat-sort-header-button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option{border-left:0;box-sizing:border-box}.lux-select-panel mat-option.mat-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}.lux-select-panel mat-option.mat-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}.lux-select-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option.mat-active,.lux-select-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]) .mat-button-focus-overlay{display:none}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]).mat-fab:focus,lux-button button:not([disabled]).mat-raised-button:focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]).mat-fab:focus.mat-accent,lux-button button:not([disabled]).mat-raised-button:focus.mat-accent{background-color:#b6d184!important}lux-button button:not([disabled]).mat-fab:focus.mat-warn,lux-button button:not([disabled]).mat-raised-button:focus.mat-warn{background-color:#ea2524!important}lux-button button:not([disabled]).mat-fab:focus.mat-primary,lux-button button:not([disabled]).mat-raised-button:focus.mat-primary{background-color:#4b82ba!important}.lux-autocomplete-panel mat-option{border-left:0;box-sizing:border-box}.lux-autocomplete-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-autocomplete-panel mat-option.mat-active,.lux-autocomplete-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-tabs mat-ink-bar{background-color:#0073b3!important}lux-tabs .mat-tab-label:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:hover,lux-stepper mat-step-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:focus,lux-stepper mat-step-header:focus,lux-stepper mat-step-header[aria-selected=true],lux-tile mat-card:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-master-detail lux-master-header .lux-master-header-collapse button.lux-button:not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(0,0,0,.2)!important}lux-file-list .lux-file-list{border:4px solid transparent}lux-file-list .lux-file-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list .lux-file-list-entry{border:4px solid transparent}lux-file-list .lux-file-list .lux-file-list-entry:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list mat-card{margin:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-dialog-structure lux-dialog-content:focus,lux-dialog-structure lux-dialog-title:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item,example-root .example-base-components-list mat-expansion-panel-header{box-sizing:border-box}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected:after,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}example-root .example-base-components-list .example-component-list-item:focus,example-root .example-base-components-list mat-expansion-panel-header:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item:hover,example-root .example-base-components-list mat-expansion-panel-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-app-container,body,html{height:100%}.lux-app-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}body{-webkit-overflow-scrolling:touch}div{font-family:Roboto,Helvetica Neue,sans-serif}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing.lux-file-preview-backdrop{background:#000;opacity:.8!important}lux-card.lux-card-grow{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:400px;min-width:0}lux-card.lux-card-grow mat-card,lux-card.lux-card-grow mat-card-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0}.lux-crop{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lux-label{color:rgba(0,0,0,.54);font-size:75%}.lux-hint{color:rgba(0,0,0,.6);font-size:12px}.lux-display-none{display:none}.lux-hidden{visibility:hidden}.lux-nowrap{white-space:nowrap}.lux-cursor{cursor:pointer}.lux-block-pointer-events{pointer-events:none}.lux-vertical-align-baseline{vertical-align:baseline!important}.lux-black-semi-transparent{color:rgba(0,0,0,.87)}.lux-semi-transparent{opacity:.6}.lux-overflow-y-hidden{overflow-y:hidden}.lux-overflow-y-auto{overflow-y:auto}.lux-overflow-wrap-break-word{overflow-wrap:break-word}.lux-bold{font-weight:700!important}.lux-uppercase{text-transform:uppercase!important}.lux-lowercase{text-transform:lowercase!important}.lux-hyphenate{overflow-wrap:break-word;word-wrap:break-word;word-break:normal;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow-x:auto}.lux-p-footer,.lux-p-header{padding:8px}.lux-snackbar{top:68px;right:8px;position:absolute;margin:0!important;min-width:unset!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-snack-bar-handset .lux-snackbar{left:8px;width:auto!important}.lux-mt-0{margin-top:0}.lux-pt-0{padding-top:0}.lux-mt-1{margin-top:2px}.lux-pt-1{padding-top:2px}.lux-mt-2{margin-top:4px}.lux-pt-2{padding-top:4px}.lux-mt-3{margin-top:8px}.lux-pt-3{padding-top:8px}.lux-mt-4{margin-top:16px}.lux-pt-4{padding-top:16px}.lux-mb-0{margin-bottom:0}.lux-pb-0{padding-bottom:0}.lux-mb-1{margin-bottom:2px}.lux-pb-1{padding-bottom:2px}.lux-mb-2{margin-bottom:4px}.lux-pb-2{padding-bottom:4px}.lux-mb-3{margin-bottom:8px}.lux-pb-3{padding-bottom:8px}.lux-mb-4{margin-bottom:16px}.lux-pb-4{padding-bottom:16px}.lux-ml-0{margin-left:0}.lux-pl-0{padding-left:0}.lux-ml-1{margin-left:2px}.lux-pl-1{padding-left:2px}.lux-ml-2{margin-left:4px}.lux-pl-2{padding-left:4px}.lux-ml-3{margin-left:8px}.lux-pl-3{padding-left:8px}.lux-ml-4{margin-left:16px}.lux-pl-4{padding-left:16px}.lux-m-0{margin:0}.lux-mr-0{margin-right:0}.lux-p-0{padding:0}.lux-pr-0{padding-right:0}.lux-m-1{margin:2px}.lux-mr-1{margin-right:2px}.lux-p-1{padding:2px}.lux-pr-1{padding-right:2px}.lux-m-2{margin:4px}.lux-mr-2{margin-right:4px}.lux-p-2{padding:4px}.lux-pr-2{padding-right:4px}.lux-m-3{margin:8px}.lux-mr-3{margin-right:8px}.lux-p-3{padding:8px}.lux-pr-3{padding-right:8px}.lux-m-4{margin:16px}.lux-mr-4{margin-right:16px}.lux-p-4{padding:16px}.lux-pr-4{padding-right:16px}.lux-flex-layout-gap-10[style*=row]>:not(:last-child){margin-right:10px}.lux-flex-layout-gap-10[style*=column]>:not(:last-child){margin-bottom:10px}.lux-flex-layout-gap-20[style*=row]>:not(:last-child){margin-right:20px}.lux-flex-layout-gap-20[style*=column]>:not(:last-child){margin-bottom:20px}.lux-flex-layout-gap-30[style*=row]>:not(:last-child){margin-right:30px}.lux-flex-layout-gap-30[style*=column]>:not(:last-child){margin-bottom:30px}.lux-z-index-100{z-index:100}.lux-z-index-500{z-index:500}.lux-z-index-1000{z-index:1000}.lux-uppercase>lux-button .lux-button-label,lux-button.lux-uppercase .lux-button-label{text-transform:uppercase}.lux-bg-color-red{background:#b01211}.lux-bg-color-green{background:#95bc4c}.lux-bg-color-yellow{background:#ebc000}.lux-bg-color-blue{background:#335c85}.lux-bg-color-gray{background:#c8c8c8}.lux-bg-color-orange{background:#ec9c1b}.lux-bg-color-brown{background:#783f04}.lux-font-color-black{color:#000}.lux-font-color-white{color:#fff}.lux-badge-notification.mat-badge-large .mat-badge-content{font-size:15px}.lux-badge-notification.lux-badge-color-default .mat-badge-content{color:#000;background:#fff;border:1px solid rgba(0,0,0,.87)}mat-chip-list{display:block}.mat-chip-list-stacked{display:-webkit-box;display:-ms-flexbox;display:flex}.mat-chip-list-stacked ::ng-deep mat-chip{width:auto!important}.mat-chip-list-stacked ::ng-deep .mat-chip-input{-webkit-box-flex:unset;-ms-flex:unset;flex:unset}.mat-chip-list-stacked ::ng-deep .mat-chip-list-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;width:100%}.lux-chips input{margin-bottom:10px;width:auto}.lux-chips mat-chip.mat-chip-disabled{background-color:rgba(0,0,0,.38)!important;color:#fff!important;pointer-events:none}.lux-chips mat-chip.mat-chip-disabled lux-icon ::ng-deep i,.lux-chips mat-chip.mat-chip-disabled lux-icon ::ng-deep mat-icon{color:#fff}.lux-chips .lux-chips-list-offset mat-chip{margin-bottom:10px}"]
    }),
    tslib_1.__param(0, Optional()),
    tslib_1.__metadata("design:paramtypes", [ControlContainer])
], LuxChipsComponent);
export { LuxChipsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LWNoaXBzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BpaGstZ2ZpL2x1eC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsic3JjL2FwcC9tb2R1bGVzL2x1eC1mb3JtL2x1eC1jaGlwcy9sdXgtY2hpcHMuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULGVBQWUsRUFDZixZQUFZLEVBQ1osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ04sU0FBUyxFQUNULFNBQVMsRUFDVCxZQUFZLEVBQ2IsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxzQkFBc0IsRUFBRSxPQUFPLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNyRixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvREFBb0QsQ0FBQztBQUMzRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQUNoRixPQUFPLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM3QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBT3RFLElBQWEsaUJBQWlCLEdBQTlCLE1BQWEsaUJBQWlCO0lBb0U1QixZQUFnQyxnQkFBa0M7UUFBbEMscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQW5FakQsMkJBQXNCLEdBQWlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDMUQsd0JBQW1CLEdBQWlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFaEUsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFDOUIsNEJBQXVCLEdBQWEsRUFBRSxDQUFDO1FBQ3ZDLGNBQVMsR0FBVyxLQUFLLENBQUM7UUFFbEMsb0JBQWUsR0FBYSxFQUFFLENBQUM7UUFDL0IsZ0JBQVcsR0FBb0IsSUFBSSxPQUFPLEVBQVUsQ0FBQztRQUNyRCxhQUFRLEdBQWlCLElBQUksT0FBTyxFQUFPLENBQUM7UUFFbkMsbUJBQWMsR0FBOEIsWUFBWSxDQUFDO1FBQ3pELG9CQUFlLEdBQVksS0FBSyxDQUFDO1FBRWpDLGdCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTNCLGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQVUsQ0FBQztRQW9EbEQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBYSxFQUFFLEVBQUU7WUFDbkUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNoQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDeEYsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFdBQVc7YUFDM0MsWUFBWSxFQUFFO2FBQ2QsSUFBSSxDQUNILFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFDYixvQkFBb0IsRUFBRSxFQUN0QixHQUFHLENBQUMsQ0FBQyxLQUFhLEVBQUUsRUFBRTtZQUNwQixJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNWLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO2FBQ3pEO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE1BQU0sQ0FDdkQsQ0FBQyxZQUFvQixFQUFFLEVBQUUsQ0FDdkIsWUFBWTtxQkFDVCxJQUFJLEVBQUU7cUJBQ04sV0FBVyxFQUFFO3FCQUNiLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FDOUMsQ0FBQzthQUNIO1FBQ0gsQ0FBQyxDQUFDLENBQ0g7YUFDQSxTQUFTLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBcEVELElBQUksV0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMzQixDQUFDO0lBRVEsSUFBSSxXQUFXLENBQUMsUUFBaUI7UUFDeEMsSUFBSSxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUM7UUFDN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNyRixJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDeEUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsSUFBSSxzQkFBc0I7UUFDeEIsT0FBTyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDdEMsQ0FBQztJQUVRLElBQUksc0JBQXNCLENBQUMsT0FBaUI7UUFDbkQsSUFBSSxDQUFDLHVCQUF1QixHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDdEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUM7SUFDckQsQ0FBQztJQUVELElBQUksYUFBYTtRQUNmLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRVEsSUFBSSxhQUFhLENBQUMsS0FBYTtRQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQsZ0RBQWdEO0lBQ2hELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxjQUFjO1FBQ2hCLE9BQVksSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ3JDLENBQUM7SUFFRCxJQUFJLG1CQUFtQjtRQUNyQixPQUFZLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztJQUMxQyxDQUFDO0lBOEJELFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtZQUM1QixJQUFJLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDeEM7UUFDRCxJQUFJLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtZQUMvQixJQUFJLENBQUMsc0JBQXNCLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDM0M7SUFDSCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxHQUFHLENBQUMsS0FBYTtRQUNmLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDakM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDL0I7WUFFRCx5R0FBeUc7WUFDekcsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1NBQzVEO0lBQ0gsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxZQUFZLENBQUMsS0FBYTtRQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGVBQWUsQ0FBQyxLQUFLLEVBQUUsS0FBSztRQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQixLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFFBQVEsQ0FBQyxLQUFLO1FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFO1lBQ2hDLG9GQUFvRjtZQUNwRixJQUNFLElBQUksQ0FBQyxzQkFBc0I7Z0JBQzNCLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLGVBQWU7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxLQUFLLENBQUMsRUFDakM7Z0JBQ0EsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUNsQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2hDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO2FBQ2xCO1NBQ0Y7SUFDSCxDQUFDO0NBQ0YsQ0FBQTs7WUFqR21ELGdCQUFnQix1QkFBckQsUUFBUTs7QUF4RFo7SUFBUixLQUFLLEVBQUU7O3lEQUEwRDtBQUN6RDtJQUFSLEtBQUssRUFBRTs7MERBQWtDO0FBQ2pDO0lBQVIsS0FBSyxFQUFFO3NDQUFrQixxQkFBcUI7MERBQUM7QUFDdkM7SUFBUixLQUFLLEVBQUU7O3NEQUE2QjtBQUUzQjtJQUFULE1BQU0sRUFBRTs7dURBQTJDO0FBRWpCO0lBQWxDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQztzQ0FBb0IsU0FBUzs0REFBbUI7QUFDMUM7SUFBdkMsZUFBZSxDQUFDLHFCQUFxQixDQUFDO3NDQUF5QixTQUFTO2lFQUF3QjtBQUMxRTtJQUF0QixZQUFZLENBQUMsT0FBTyxDQUFDO3NDQUFXLFNBQVM7bURBQVU7QUFFaUI7SUFBcEUsU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUM7c0NBQXlCLHNCQUFzQjtpRUFBQztBQUN2RDtJQUE1RCxTQUFTLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUM7c0NBQWtCLGVBQWU7MERBQUM7QUFNckY7SUFBUixLQUFLLEVBQUU7OztvREFNUDtBQU1RO0lBQVIsS0FBSyxFQUFFOzs7K0RBR1A7QUFNUTtJQUFSLEtBQUssRUFBRTs7O3NEQUVQO0FBckRVLGlCQUFpQjtJQUw3QixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsV0FBVztRQUNyQixpcEhBQXlDOztLQUUxQyxDQUFDO0lBcUVhLG1CQUFBLFFBQVEsRUFBRSxDQUFBOzZDQUEyQixnQkFBZ0I7R0FwRXZELGlCQUFpQixDQXFLN0I7U0FyS1ksaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT3B0aW9uYWwsXG4gIE91dHB1dCxcbiAgUXVlcnlMaXN0LFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDaGlsZHJlblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbnRyb2xDb250YWluZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRBdXRvY29tcGxldGUsIE1hdEF1dG9jb21wbGV0ZVRyaWdnZXIsIE1hdENoaXAgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBMdXhDaGlwR3JvdXBDb21wb25lbnQgfSBmcm9tICcuL2x1eC1jaGlwcy1zdWJjb21wb25lbnRzL2x1eC1jaGlwLWdyb3VwLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBMdXhDaGlwQ29tcG9uZW50IH0gZnJvbSAnLi9sdXgtY2hpcHMtc3ViY29tcG9uZW50cy9sdXgtY2hpcC5jb21wb25lbnQnO1xuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwLCBzdGFydFdpdGggfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2x1eC1jaGlwcycsXG4gIHRlbXBsYXRlVXJsOiAnLi9sdXgtY2hpcHMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sdXgtY2hpcHMuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMdXhDaGlwc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5wdXRWYWx1ZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICBwcml2YXRlIHJlYWRvbmx5IG5ld0NoaXBTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBwcml2YXRlIF9sdXhEaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9sdXhBdXRvY29tcGxldGVPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIF9sdXhMYWJlbDogc3RyaW5nID0gJ05ldSc7XG5cbiAgZmlsdGVyZWRPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBpbnB1dFZhbHVlJDogU3ViamVjdDxzdHJpbmc+ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuICBuZXdDaGlwJDogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gIEBJbnB1dCgpIGx1eE9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnID0gJ2hvcml6b250YWwnO1xuICBASW5wdXQoKSBsdXhJbnB1dEFsbG93ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgbHV4TmV3Q2hpcEdyb3VwOiBMdXhDaGlwR3JvdXBDb21wb25lbnQ7XG4gIEBJbnB1dCgpIGx1eE11bHRpcGxlOiBib29sZWFuID0gdHJ1ZTtcblxuICBAT3V0cHV0KCkgbHV4Q2hpcEFkZGVkID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihMdXhDaGlwQ29tcG9uZW50KSBsdXhDaGlwQ29tcG9uZW50czogUXVlcnlMaXN0PEx1eENoaXBDb21wb25lbnQ+O1xuICBAQ29udGVudENoaWxkcmVuKEx1eENoaXBHcm91cENvbXBvbmVudCkgbHV4Q2hpcEdyb3VwQ29tcG9uZW50czogUXVlcnlMaXN0PEx1eENoaXBHcm91cENvbXBvbmVudD47XG4gIEBWaWV3Q2hpbGRyZW4oTWF0Q2hpcCkgbWF0Q2hpcHM6IFF1ZXJ5TGlzdDxNYXRDaGlwPjtcblxuICBAVmlld0NoaWxkKCdpbnB1dCcsIHsgcmVhZDogTWF0QXV0b2NvbXBsZXRlVHJpZ2dlciwgc3RhdGljOiBmYWxzZSB9KSBtYXRBdXRvY29tcGxldGVUcmlnZ2VyOiBNYXRBdXRvY29tcGxldGVUcmlnZ2VyO1xuICBAVmlld0NoaWxkKCdhdXRvJywgeyByZWFkOiBNYXRBdXRvY29tcGxldGUsIHN0YXRpYzogZmFsc2UgfSkgbWF0QXV0b2NvbXBsZXRlOiBNYXRBdXRvY29tcGxldGU7XG5cbiAgZ2V0IGx1eERpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9sdXhEaXNhYmxlZDtcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBsdXhEaXNhYmxlZChkaXNhYmxlZDogYm9vbGVhbikge1xuICAgIHRoaXMuX2x1eERpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmx1eENoaXBHcm91cENvbXBvbmVudHMuZm9yRWFjaChjaGlwR3JvdXAgPT4gKGNoaXBHcm91cC5sdXhEaXNhYmxlZCA9IGRpc2FibGVkKSk7XG4gICAgICB0aGlzLmx1eENoaXBDb21wb25lbnRzLmZvckVhY2goY2hpcCA9PiAoY2hpcC5sdXhEaXNhYmxlZCA9IGRpc2FibGVkKSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgbHV4QXV0b2NvbXBsZXRlT3B0aW9ucygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX2x1eEF1dG9jb21wbGV0ZU9wdGlvbnM7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbHV4QXV0b2NvbXBsZXRlT3B0aW9ucyhvcHRpb25zOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX2x1eEF1dG9jb21wbGV0ZU9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IFtdO1xuICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zID0gdGhpcy5sdXhBdXRvY29tcGxldGVPcHRpb25zO1xuICB9XG5cbiAgZ2V0IGx1eElucHV0TGFiZWwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbHV4TGFiZWw7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbHV4SW5wdXRMYWJlbChsYWJlbDogc3RyaW5nKSB7XG4gICAgdGhpcy5fbHV4TGFiZWwgPSBsYWJlbDtcbiAgfVxuXG4gIC8vIEbDvHIgbHV4LWZvcm0tY29udHJvbCwgZGllc2UgcnVmdCBsdXhMYWJlbCBhdWZcbiAgZ2V0IGx1eExhYmVsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2x1eExhYmVsO1xuICB9XG5cbiAgZ2V0IGNoaXBDb21wb25lbnRzKCk6IEx1eENoaXBDb21wb25lbnRbXSB7XG4gICAgcmV0dXJuIDxhbnk+dGhpcy5sdXhDaGlwQ29tcG9uZW50cztcbiAgfVxuXG4gIGdldCBjaGlwR3JvdXBDb21wb25lbnRzKCk6IEx1eENoaXBHcm91cENvbXBvbmVudFtdIHtcbiAgICByZXR1cm4gPGFueT50aGlzLmx1eENoaXBHcm91cENvbXBvbmVudHM7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBwcml2YXRlIGNvbnRyb2xDb250YWluZXI6IENvbnRyb2xDb250YWluZXIpIHtcbiAgICB0aGlzLm5ld0NoaXBTdWJzY3JpcHRpb24gPSB0aGlzLm5ld0NoaXAkLnN1YnNjcmliZSgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5hZGQodmFsdWUpO1xuICAgICAgdGhpcy5maWx0ZXJlZE9wdGlvbnMgPSB0aGlzLmx1eEF1dG9jb21wbGV0ZU9wdGlvbnMgPyB0aGlzLmx1eEF1dG9jb21wbGV0ZU9wdGlvbnMgOiBbXTtcbiAgICB9KTtcblxuICAgIHRoaXMuaW5wdXRWYWx1ZVN1YnNjcmlwdGlvbiA9IHRoaXMuaW5wdXRWYWx1ZSRcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHN0YXJ0V2l0aCgnJyksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgIG1hcCgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zID0gWy4uLnRoaXMubHV4QXV0b2NvbXBsZXRlT3B0aW9uc107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zID0gdGhpcy5sdXhBdXRvY29tcGxldGVPcHRpb25zLmZpbHRlcihcbiAgICAgICAgICAgICAgKGNvbXBhcmVWYWx1ZTogc3RyaW5nKSA9PlxuICAgICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZVxuICAgICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgIC5pbmRleE9mKHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSA+IC0xXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLm5ld0NoaXBTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMubmV3Q2hpcFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dFZhbHVlU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLmlucHV0VmFsdWVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRnVlZ3QgZWluZW4gQ2hpcCBoaW56dS5cbiAgICogRnVlZ3QgaWhuIGVudHdlZGVyIGRlciBleHBsaXppdCBtaXRnZXRlaWx0ZW4gbmV3Q2hpcExpc3QgaGluenUgb2RlciBlaW5mYWNoXG4gICAqIGRlciBsZXR6dGVuIG1pdGdlZ2ViZW5lbiBMaXN0ZS5cbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBhZGQodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHRoaXMubHV4TmV3Q2hpcEdyb3VwKSB7XG4gICAgICAgIHRoaXMubHV4TmV3Q2hpcEdyb3VwLmFkZCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmx1eENoaXBBZGRlZC5lbWl0KHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQXV0b2NvbXBsZXRlLUZlbGQgaW4gamVkZW0gRmFsbCBzY2hsaWXDn2VuIChEZWxheSDDvGJlciBUaW1lb3V0LCBkYW1pdCBrZWluIHZpc3VlbGxlcyBGbGFja2VybiBlbnRzdGVodClcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tYXRBdXRvY29tcGxldGVUcmlnZ2VyLmNsb3NlUGFuZWwoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdpcmQgYmVpIEVpbmdhYmUgdm9uIFdlcnRlbiBpbiBkYXMgSW5wdXQtRmVsZCBhdWZnZXJ1ZmVuIHVuZCBzY2hyZWlidCBlaW5lbiBuZXVlbiBXZXJ0XG4gICAqIGluIGRhcyBpbnB1dFZhbHVlLVN1YmplY3QuXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKi9cbiAgaW5wdXRDaGFuZ2VkKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmlucHV0VmFsdWUkLm5leHQodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpcmQgYmVpbSBTZWxla3RpZXJlbiBlaW5lciBPcHRpb24gaW0gQXV0b2NvbXBsZXRlIGF1c2dlZsO8aHJ0LlxuICAgKiBAcGFyYW0gaW5wdXRcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBhdXRvQ29tcGxldGVBZGQoaW5wdXQsIHZhbHVlKSB7XG4gICAgdGhpcy5uZXdDaGlwJC5uZXh0KHZhbHVlKTtcbiAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpcmQgYmVpbSBJbnB1dC1FdmVudCBkZXMgRWluZ2FiZWZlbGRzIGF1c2dlZsO8aHJ0LCBmcmFndCBhYmVyIHZvcmhlciBhYiwgb2IgZGFzIEF1dG9jb21wbGV0ZSBvZmZlbiBpc3QuXG4gICAqIFdlbm4gamEsIHdpcmQga2VpbiBuZXVlciBDaGlwIGVyemV1Z3QsIGRhIGRhcyBBdXRvY29tcGxldGUgZGllcyDDvGJlcm5pbW10LlxuICAgKiBAcGFyYW0gaW5wdXRcbiAgICovXG4gIGlucHV0QWRkKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLm1hdEF1dG9jb21wbGV0ZS5pc09wZW4pIHtcbiAgICAgIC8vIGZhbGxzIG51ciBlaW5lIE9wdGlvbiDDvGJyaWcgaXN0LCBkaWVzZSBhbHMgdmFsdWUgbmVobWVuIGFuc3RlbGxlIGRlcyBpbnB1dCB0ZXh0ZXNcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5sdXhBdXRvY29tcGxldGVPcHRpb25zICYmXG4gICAgICAgIHRoaXMubHV4QXV0b2NvbXBsZXRlT3B0aW9ucy5sZW5ndGggPiAxICYmXG4gICAgICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zICYmXG4gICAgICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zLmxlbmd0aCA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMubmV3Q2hpcCQubmV4dCh0aGlzLmZpbHRlcmVkT3B0aW9uc1swXSk7XG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5ld0NoaXAkLm5leHQoaW5wdXQudmFsdWUpO1xuICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19