import * as tslib_1 from "tslib";
import { Component, HostBinding, Input } from '@angular/core';
import { LuxBackgroundColorsEnum } from '../../lux-util/lux-colors.enum';
import { LuxUtil } from '../../lux-util/lux-util';
var LuxIconComponent = /** @class */ (function () {
    function LuxIconComponent() {
        this._luxPadding = '4px';
        this._backgroundCSSClass = '';
        this._fontCSSClass = '';
        this.currentIconSize = 1;
        this.styleMargin = '0';
        this.luxRounded = false;
    }
    LuxIconComponent_1 = LuxIconComponent;
    Object.defineProperty(LuxIconComponent.prototype, "luxMargin", {
        get: function () {
            return this.styleMargin;
        },
        // 'standard margin Werte z.B. '5px 4px 3px 2px'
        set: function (margin) {
            this.styleMargin = margin;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "luxPadding", {
        get: function () {
            return this._luxPadding;
        },
        // standard padding Werte z.B. '5px 4px 3px 2px'
        set: function (padding) {
            this._luxPadding = padding;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "luxIconSize", {
        get: function () {
            return this._luxIconSize;
        },
        set: function (iconSizeValue) {
            this._luxIconSize = iconSizeValue;
            if (typeof this.luxIconSize === 'string' && this.luxIconSize.length === 2) {
                this.currentIconSize = +this.luxIconSize.slice(0, 1);
            }
            else {
                this.currentIconSize = 1;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "luxIconName", {
        get: function () {
            return this._luxIconName;
        },
        set: function (iconNameValue) {
            if (iconNameValue) {
                this._luxIconName = this.modifiyIconName(iconNameValue);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "backgroundCSSClass", {
        get: function () {
            return this._backgroundCSSClass;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "fontCSSClass", {
        get: function () {
            return this._fontCSSClass;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxIconComponent.prototype, "luxColor", {
        set: function (color) {
            if (LuxBackgroundColorsEnum[color]) {
                var result = LuxUtil.getColorsByBgColorsEnum(color);
                this._backgroundCSSClass = result.backgroundCSSClass;
                this._fontCSSClass = result.fontCSSClass;
            }
            else {
                this._backgroundCSSClass = '';
                this._fontCSSClass = '';
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Generiert aus dem mitgegebenen Wert einen String-Wert
     * der entweder als Font-Awesome Icon oder als Material-Icon
     * interpretiert werden kann.
     *
     * @param iconName, z.B. fas fa-cogs
     * @returns string
     */
    LuxIconComponent.prototype.modifiyIconName = function (iconName) {
        // Handelt es sich hier um ein Font-Awesome Icon?
        if (iconName.startsWith('fa')) {
            // feststellen, ob ein FA-Pr√§fix vorliegt
            if (iconName.indexOf(LuxIconComponent_1.FA_BRAND) === -1 &&
                iconName.indexOf(LuxIconComponent_1.FA_SOLID) === -1 &&
                iconName.indexOf(LuxIconComponent_1.FA_REGULAR) === -1 &&
                iconName.indexOf(LuxIconComponent_1.FA_LIGHT) === -1) {
                // Wenn nicht, dann
                iconName = 'fas ' + iconName;
            }
            this.isIconFA = true;
            return iconName;
        }
        this.isIconFA = false;
        // Ansonsten davon ausgehen das es ein Material Icon ist
        return iconName;
    };
    var LuxIconComponent_1;
    LuxIconComponent.FA_BRAND = 'fab ';
    LuxIconComponent.FA_SOLID = 'fas ';
    LuxIconComponent.FA_REGULAR = 'far ';
    LuxIconComponent.FA_LIGHT = 'fal ';
    tslib_1.__decorate([
        HostBinding('style.margin'),
        tslib_1.__metadata("design:type", String)
    ], LuxIconComponent.prototype, "styleMargin", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], LuxIconComponent.prototype, "luxRounded", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxIconComponent.prototype, "luxMargin", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxIconComponent.prototype, "luxPadding", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxIconComponent.prototype, "luxIconSize", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxIconComponent.prototype, "luxIconName", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxIconComponent.prototype, "luxColor", null);
    LuxIconComponent = LuxIconComponent_1 = tslib_1.__decorate([
        Component({
            selector: 'lux-icon',
            template: "<ng-container [ngSwitch]=\"isIconFA\">\n  <!-- Wenn Font-Awesome-Icon -->\n  <ng-container *ngSwitchCase=\"true\">\n    <i\n      aria-hidden=\"true\"\n      [ngStyle]=\"{ padding: luxPadding }\"\n      [ngClass]=\"[\n        'lux-fa-icon',\n        luxIconName,\n        'fa-' + currentIconSize + 'x',\n        backgroundCSSClass,\n        fontCSSClass,\n        luxRounded ? 'lux-icon-rounded' : ''\n      ]\"\n    >\n    </i>\n  </ng-container>\n  <!-- Wenn Material-Icon -->\n  <ng-container *ngSwitchCase=\"false\">\n    <mat-icon\n      [ngStyle]=\"{ 'font-size': currentIconSize + 'em', padding: luxPadding }\"\n      [ngClass]=\"['lux-material-icon', backgroundCSSClass, fontCSSClass, luxRounded ? 'lux-icon-rounded' : '']\"\n    >\n      {{ luxIconName }}\n    </mat-icon>\n  </ng-container>\n</ng-container>\n",
            styles: [":host{position:relative;display:inline-block}.lux-material-icon,i.lux-fa-icon{text-align:center}.lux-icon-rounded{border-radius:.9em;width:1.3em;line-height:1.3em}"]
        }),
        tslib_1.__metadata("design:paramtypes", [])
    ], LuxIconComponent);
    return LuxIconComponent;
}());
export { LuxIconComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LWljb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGloay1nZmkvbHV4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJzcmMvYXBwL21vZHVsZXMvbHV4LWljb24vbHV4LWljb24vbHV4LWljb24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDOUQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDekUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBT2xEO0lBaUZFO1FBekVRLGdCQUFXLEdBQVcsS0FBSyxDQUFDO1FBQzVCLHdCQUFtQixHQUFXLEVBQUUsQ0FBQztRQUNqQyxrQkFBYSxHQUFXLEVBQUUsQ0FBQztRQUVuQyxvQkFBZSxHQUFXLENBQUMsQ0FBQztRQUdDLGdCQUFXLEdBQVcsR0FBRyxDQUFDO1FBRTlDLGVBQVUsR0FBWSxLQUFLLENBQUM7SUFnRXRCLENBQUM7eUJBakZMLGdCQUFnQjtJQW1CM0Isc0JBQUksdUNBQVM7YUFBYjtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMxQixDQUFDO1FBRUQsZ0RBQWdEO2FBQ3ZDLFVBQWMsTUFBYztZQUNuQyxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztRQUM1QixDQUFDOzs7T0FMQTtJQU9ELHNCQUFJLHdDQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDMUIsQ0FBQztRQUVELGdEQUFnRDthQUN2QyxVQUFlLE9BQWU7WUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUM7UUFDN0IsQ0FBQzs7O09BTEE7SUFPRCxzQkFBSSx5Q0FBVzthQUFmO1lBQ0UsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzNCLENBQUM7YUFFUSxVQUFnQixhQUFx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UUFEQyxLQUFLLEVBQUU7Ozt1REFLUDtJQVdEO1FBREMsS0FBSyxFQUFFOzs7b0RBVVA7SUEvRVUsZ0JBQWdCO1FBTDVCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxVQUFVO1lBQ3BCLCt6QkFBd0M7O1NBRXpDLENBQUM7O09BQ1csZ0JBQWdCLENBK0c1QjtJQUFELHVCQUFDO0NBQUEsQUEvR0QsSUErR0M7U0EvR1ksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0QmluZGluZywgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEx1eEJhY2tncm91bmRDb2xvcnNFbnVtIH0gZnJvbSAnLi4vLi4vbHV4LXV0aWwvbHV4LWNvbG9ycy5lbnVtJztcbmltcG9ydCB7IEx1eFV0aWwgfSBmcm9tICcuLi8uLi9sdXgtdXRpbC9sdXgtdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2x1eC1pY29uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2x1eC1pY29uLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbHV4LWljb24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMdXhJY29uQ29tcG9uZW50IHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBGQV9CUkFORCA9ICdmYWIgJztcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBGQV9TT0xJRCA9ICdmYXMgJztcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBGQV9SRUdVTEFSID0gJ2ZhciAnO1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZBX0xJR0hUID0gJ2ZhbCAnO1xuXG4gIHByaXZhdGUgX2x1eEljb25TaXplOiBzdHJpbmc7XG4gIHByaXZhdGUgX2x1eEljb25OYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX2x1eFBhZGRpbmc6IHN0cmluZyA9ICc0cHgnO1xuICBwcml2YXRlIF9iYWNrZ3JvdW5kQ1NTQ2xhc3M6IHN0cmluZyA9ICcnO1xuICBwcml2YXRlIF9mb250Q1NTQ2xhc3M6IHN0cmluZyA9ICcnO1xuXG4gIGN1cnJlbnRJY29uU2l6ZTogbnVtYmVyID0gMTtcbiAgaXNJY29uRkE6IGJvb2xlYW47XG5cbiAgQEhvc3RCaW5kaW5nKCdzdHlsZS5tYXJnaW4nKSBzdHlsZU1hcmdpbjogc3RyaW5nID0gJzAnO1xuXG4gIEBJbnB1dCgpIGx1eFJvdW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBnZXQgbHV4TWFyZ2luKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVNYXJnaW47XG4gIH1cblxuICAvLyAnc3RhbmRhcmQgbWFyZ2luIFdlcnRlIHouQi4gJzVweCA0cHggM3B4IDJweCdcbiAgQElucHV0KCkgc2V0IGx1eE1hcmdpbihtYXJnaW46IHN0cmluZykge1xuICAgIHRoaXMuc3R5bGVNYXJnaW4gPSBtYXJnaW47XG4gIH1cblxuICBnZXQgbHV4UGFkZGluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9sdXhQYWRkaW5nO1xuICB9XG5cbiAgLy8gc3RhbmRhcmQgcGFkZGluZyBXZXJ0ZSB6LkIuICc1cHggNHB4IDNweCAycHgnXG4gIEBJbnB1dCgpIHNldCBsdXhQYWRkaW5nKHBhZGRpbmc6IHN0cmluZykge1xuICAgIHRoaXMuX2x1eFBhZGRpbmcgPSBwYWRkaW5nO1xuICB9XG5cbiAgZ2V0IGx1eEljb25TaXplKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2x1eEljb25TaXplO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eEljb25TaXplKGljb25TaXplVmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2x1eEljb25TaXplID0gaWNvblNpemVWYWx1ZTtcbiAgICBpZiAodHlwZW9mIHRoaXMubHV4SWNvblNpemUgPT09ICdzdHJpbmcnICYmIHRoaXMubHV4SWNvblNpemUubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLmN1cnJlbnRJY29uU2l6ZSA9ICt0aGlzLmx1eEljb25TaXplLnNsaWNlKDAsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRJY29uU2l6ZSA9IDE7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGx1eEljb25OYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2x1eEljb25OYW1lO1xuICB9XG5cbiAgQElucHV0KClcbiAgc2V0IGx1eEljb25OYW1lKGljb25OYW1lVmFsdWU6IHN0cmluZykge1xuICAgIGlmIChpY29uTmFtZVZhbHVlKSB7XG4gICAgICB0aGlzLl9sdXhJY29uTmFtZSA9IHRoaXMubW9kaWZpeUljb25OYW1lKGljb25OYW1lVmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBiYWNrZ3JvdW5kQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDU1NDbGFzcztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZm9udENTU0NsYXNzKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250Q1NTQ2xhc3M7XG4gIH1cblxuICBASW5wdXQoKVxuICBzZXQgbHV4Q29sb3IoY29sb3I6IEx1eEJhY2tncm91bmRDb2xvcnNFbnVtKSB7XG4gICAgaWYgKEx1eEJhY2tncm91bmRDb2xvcnNFbnVtW2NvbG9yXSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gTHV4VXRpbC5nZXRDb2xvcnNCeUJnQ29sb3JzRW51bShjb2xvcik7XG4gICAgICB0aGlzLl9iYWNrZ3JvdW5kQ1NTQ2xhc3MgPSByZXN1bHQuYmFja2dyb3VuZENTU0NsYXNzO1xuICAgICAgdGhpcy5fZm9udENTU0NsYXNzID0gcmVzdWx0LmZvbnRDU1NDbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENTU0NsYXNzID0gJyc7XG4gICAgICB0aGlzLl9mb250Q1NTQ2xhc3MgPSAnJztcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWVydCBhdXMgZGVtIG1pdGdlZ2ViZW5lbiBXZXJ0IGVpbmVuIFN0cmluZy1XZXJ0XG4gICAqIGRlciBlbnR3ZWRlciBhbHMgRm9udC1Bd2Vzb21lIEljb24gb2RlciBhbHMgTWF0ZXJpYWwtSWNvblxuICAgKiBpbnRlcnByZXRpZXJ0IHdlcmRlbiBrYW5uLlxuICAgKlxuICAgKiBAcGFyYW0gaWNvbk5hbWUsIHouQi4gZmFzIGZhLWNvZ3NcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBwcml2YXRlIG1vZGlmaXlJY29uTmFtZShpY29uTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBIYW5kZWx0IGVzIHNpY2ggaGllciB1bSBlaW4gRm9udC1Bd2Vzb21lIEljb24/XG4gICAgaWYgKGljb25OYW1lLnN0YXJ0c1dpdGgoJ2ZhJykpIHtcbiAgICAgIC8vIGZlc3RzdGVsbGVuLCBvYiBlaW4gRkEtUHLDpGZpeCB2b3JsaWVndFxuICAgICAgaWYgKFxuICAgICAgICBpY29uTmFtZS5pbmRleE9mKEx1eEljb25Db21wb25lbnQuRkFfQlJBTkQpID09PSAtMSAmJlxuICAgICAgICBpY29uTmFtZS5pbmRleE9mKEx1eEljb25Db21wb25lbnQuRkFfU09MSUQpID09PSAtMSAmJlxuICAgICAgICBpY29uTmFtZS5pbmRleE9mKEx1eEljb25Db21wb25lbnQuRkFfUkVHVUxBUikgPT09IC0xICYmXG4gICAgICAgIGljb25OYW1lLmluZGV4T2YoTHV4SWNvbkNvbXBvbmVudC5GQV9MSUdIVCkgPT09IC0xXG4gICAgICApIHtcbiAgICAgICAgLy8gV2VubiBuaWNodCwgZGFublxuICAgICAgICBpY29uTmFtZSA9ICdmYXMgJyArIGljb25OYW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0ljb25GQSA9IHRydWU7XG4gICAgICByZXR1cm4gaWNvbk5hbWU7XG4gICAgfVxuICAgIHRoaXMuaXNJY29uRkEgPSBmYWxzZTtcbiAgICAvLyBBbnNvbnN0ZW4gZGF2b24gYXVzZ2VoZW4gZGFzIGVzIGVpbiBNYXRlcmlhbCBJY29uIGlzdFxuICAgIHJldHVybiBpY29uTmFtZTtcbiAgfVxufVxuIl19