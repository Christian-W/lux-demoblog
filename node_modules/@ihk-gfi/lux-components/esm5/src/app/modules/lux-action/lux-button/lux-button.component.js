import * as tslib_1 from "tslib";
import { Component, ElementRef, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';
import { LuxComponentsConfigService } from '../../lux-components-config/lux-components-config.service';
import { LuxActionComponentBaseClass } from '../lux-action-model/lux-action-component-base.class';
var LuxButtonComponent = /** @class */ (function (_super) {
    tslib_1.__extends(LuxButtonComponent, _super);
    function LuxButtonComponent(elementRef, componentsConfigService) {
        var _this = _super.call(this) || this;
        _this.elementRef = elementRef;
        _this.componentsConfigService = componentsConfigService;
        _this.iconSize = '2x';
        _this.luxType = 'button';
        return _this;
    }
    LuxButtonComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.configSubscription = this.componentsConfigService.config.subscribe(function () {
            // Hintergrund: LuxLink, LuxSideNavItem und LuxMenuItem benutzen alle unter der Haube
            // den LuxButton. Wenn diese nun als Ausnahmen f端r Uppercase in der Config eingetragen werden,
            // darf eine Uppercase-Einstellung f端r den LuxButton diese nicht 端berschreiben.
            // Deshalb pr端ft der LuxButton hier, ob er Teil einer dieser Komponenten ist.
            _this.detectParent();
        });
    };
    LuxButtonComponent.prototype.ngOnDestroy = function () {
        this.configSubscription.unsubscribe();
    };
    LuxButtonComponent.prototype.clicked = function (event) {
        this.luxClicked.emit(event);
    };
    LuxButtonComponent.prototype.detectParent = function () {
        var className = this.elementRef.nativeElement.className;
        var selector = 'lux-button';
        if (className.indexOf('lux-link') > -1) {
            selector = 'lux-link';
        }
        else if (className.indexOf('lux-side-nav-item') > -1) {
            selector = 'lux-side-nav-item';
        }
        else if (className.indexOf('lux-menu-item') > -1) {
            selector = 'lux-menu-item';
        }
        this.labelUppercase = this.componentsConfigService.isLabelUppercaseForSelector(selector);
    };
    LuxButtonComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: LuxComponentsConfigService }
    ]; };
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], LuxButtonComponent.prototype, "luxType", void 0);
    tslib_1.__decorate([
        HostBinding('class.lux-uppercase'),
        tslib_1.__metadata("design:type", Boolean)
    ], LuxButtonComponent.prototype, "labelUppercase", void 0);
    LuxButtonComponent = tslib_1.__decorate([
        Component({
            selector: 'lux-button',
            template: "<button\n  *ngIf=\"luxRaised && !luxRounded\"\n  mat-raised-button\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n\n<button\n  *ngIf=\"!luxRaised && !luxRounded\"\n  mat-button\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n\n<button\n  *ngIf=\"luxRounded\"\n  mat-fab\n  [color]=\"luxColor\"\n  (click)=\"clicked($event)\"\n  [disabled]=\"luxDisabled\"\n  [type]=\"luxType\"\n  class=\"lux-button lux-bold lux-align-center lux-button-rounded mat-elevation-z1\"\n  luxTagIdHandler\n  [luxTagId]=\"luxTagId\"\n  [ngClass]=\"{ 'lux-align-baseline': luxIconAlignWithLabel && !!luxIconName, 'lux-icon-button': !!luxIconName }\"\n  [attr.aria-label]=\"luxLabel ? luxLabel : ''\"\n>\n  <ng-container *ngTemplateOutlet=\"luxIconName ? iconTemplate : noIconTemplate\"></ng-container>\n  <span class=\"lux-button-label\" [ngClass]=\"{ 'lux-ml-3': !!luxIconName }\" *ngIf=\"luxLabel\">\n    {{ luxLabel }}\n  </span>\n</button>\n<ng-template #iconTemplate>\n  <lux-icon [luxIconName]=\"luxIconName\" [luxIconSize]=\"iconSize\" luxMargin=\"0\" luxPadding=\"0\"></lux-icon>\n</ng-template>\n<ng-template #noIconTemplate></ng-template>\n",
            styles: [".lux-align-baseline{padding-bottom:8px!important}.lux-align-baseline ::ng-deep .mat-button-wrapper{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.lux-button-label{line-height:1}.lux-icon-button{height:45px;padding-top:4px;padding-bottom:2px}.lux-icon-button.mat-fab{width:45px}.lux-icon-button.mat-fab ::ng-deep lux-icon i,.lux-icon-button.mat-fab ::ng-deep lux-icon mat-icon{font-size:1.5em}.lux-icon-button.mat-fab ::ng-deep .mat-button-wrapper{padding:0}:host ::ng-deep .mat-button-wrapper{height:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host ::ng-deep lux-icon{line-height:1}:host ::ng-deep lux-iconi,:host ::ng-deep lux-iconmat-icon{line-height:1}:host ::ng-deep lux-iconi{display:block}"]
        }),
        tslib_1.__metadata("design:paramtypes", [ElementRef, LuxComponentsConfigService])
    ], LuxButtonComponent);
    return LuxButtonComponent;
}(LuxActionComponentBaseClass));
export { LuxButtonComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LWJ1dHRvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AaWhrLWdmaS9sdXgtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sdXgtYWN0aW9uL2x1eC1idXR0b24vbHV4LWJ1dHRvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RixPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSwyREFBMkQsQ0FBQztBQUV2RyxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQU9sRztJQUF3Qyw4Q0FBMkI7SUFTakUsNEJBQW1CLFVBQXNCLEVBQVMsdUJBQW1EO1FBQXJHLFlBQ0UsaUJBQU8sU0FDUjtRQUZrQixnQkFBVSxHQUFWLFVBQVUsQ0FBWTtRQUFTLDZCQUF1QixHQUF2Qix1QkFBdUIsQ0FBNEI7UUFSckYsY0FBUSxHQUFXLElBQUksQ0FBQztRQUkvQixhQUFPLEdBQWtDLFFBQVEsQ0FBQzs7SUFNM0QsQ0FBQztJQUVELHFDQUFRLEdBQVI7UUFBQSxpQkFRQztRQVBDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUN0RSxxRkFBcUY7WUFDckYsOEZBQThGO1lBQzlGLCtFQUErRTtZQUMvRSw2RUFBNkU7WUFDN0UsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHdDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELG9DQUFPLEdBQVAsVUFBUSxLQUFVO1FBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFTyx5Q0FBWSxHQUFwQjtRQUNFLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUMxRCxJQUFJLFFBQVEsR0FBRyxZQUFZLENBQUM7UUFDNUIsSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ3RDLFFBQVEsR0FBRyxVQUFVLENBQUM7U0FDdkI7YUFBTSxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtZQUN0RCxRQUFRLEdBQUcsbUJBQW1CLENBQUM7U0FDaEM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDbEQsUUFBUSxHQUFHLGVBQWUsQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDLDJCQUEyQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNGLENBQUM7O2dCQWpDOEIsVUFBVTtnQkFBa0MsMEJBQTBCOztJQUo1RjtRQUFSLEtBQUssRUFBRTs7dURBQW1EO0lBRXZCO1FBQW5DLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQzs7OERBQXlCO0lBUGpELGtCQUFrQjtRQUw5QixTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsWUFBWTtZQUN0Qiw4dEVBQTBDOztTQUUzQyxDQUFDO2lEQVUrQixVQUFVLEVBQWtDLDBCQUEwQjtPQVQxRixrQkFBa0IsQ0EyQzlCO0lBQUQseUJBQUM7Q0FBQSxBQTNDRCxDQUF3QywyQkFBMkIsR0EyQ2xFO1NBM0NZLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSG9zdEJpbmRpbmcsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTHV4Q29tcG9uZW50c0NvbmZpZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9sdXgtY29tcG9uZW50cy1jb25maWcvbHV4LWNvbXBvbmVudHMtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBMdXhBY3Rpb25Db21wb25lbnRCYXNlQ2xhc3MgfSBmcm9tICcuLi9sdXgtYWN0aW9uLW1vZGVsL2x1eC1hY3Rpb24tY29tcG9uZW50LWJhc2UuY2xhc3MnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsdXgtYnV0dG9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2x1eC1idXR0b24uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sdXgtYnV0dG9uLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTHV4QnV0dG9uQ29tcG9uZW50IGV4dGVuZHMgTHV4QWN0aW9uQ29tcG9uZW50QmFzZUNsYXNzIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBwdWJsaWMgcmVhZG9ubHkgaWNvblNpemU6IHN0cmluZyA9ICcyeCc7XG5cbiAgcHJpdmF0ZSBjb25maWdTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblxuICBASW5wdXQoKSBsdXhUeXBlOiAnYnV0dG9uJyB8ICdyZXNldCcgfCAnc3VibWl0JyA9ICdidXR0b24nO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MubHV4LXVwcGVyY2FzZScpIGxhYmVsVXBwZXJjYXNlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgY29tcG9uZW50c0NvbmZpZ1NlcnZpY2U6IEx1eENvbXBvbmVudHNDb25maWdTZXJ2aWNlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuY29uZmlnU3Vic2NyaXB0aW9uID0gdGhpcy5jb21wb25lbnRzQ29uZmlnU2VydmljZS5jb25maWcuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIC8vIEhpbnRlcmdydW5kOiBMdXhMaW5rLCBMdXhTaWRlTmF2SXRlbSB1bmQgTHV4TWVudUl0ZW0gYmVudXR6ZW4gYWxsZSB1bnRlciBkZXIgSGF1YmVcbiAgICAgIC8vIGRlbiBMdXhCdXR0b24uIFdlbm4gZGllc2UgbnVuIGFscyBBdXNuYWhtZW4gZsO8ciBVcHBlcmNhc2UgaW4gZGVyIENvbmZpZyBlaW5nZXRyYWdlbiB3ZXJkZW4sXG4gICAgICAvLyBkYXJmIGVpbmUgVXBwZXJjYXNlLUVpbnN0ZWxsdW5nIGbDvHIgZGVuIEx1eEJ1dHRvbiBkaWVzZSBuaWNodCDDvGJlcnNjaHJlaWJlbi5cbiAgICAgIC8vIERlc2hhbGIgcHLDvGZ0IGRlciBMdXhCdXR0b24gaGllciwgb2IgZXIgVGVpbCBlaW5lciBkaWVzZXIgS29tcG9uZW50ZW4gaXN0LlxuICAgICAgdGhpcy5kZXRlY3RQYXJlbnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuY29uZmlnU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBjbGlja2VkKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmx1eENsaWNrZWQuZW1pdChldmVudCk7XG4gIH1cblxuICBwcml2YXRlIGRldGVjdFBhcmVudCgpIHtcbiAgICBjb25zdCBjbGFzc05hbWUgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc05hbWU7XG4gICAgbGV0IHNlbGVjdG9yID0gJ2x1eC1idXR0b24nO1xuICAgIGlmIChjbGFzc05hbWUuaW5kZXhPZignbHV4LWxpbmsnKSA+IC0xKSB7XG4gICAgICBzZWxlY3RvciA9ICdsdXgtbGluayc7XG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUuaW5kZXhPZignbHV4LXNpZGUtbmF2LWl0ZW0nKSA+IC0xKSB7XG4gICAgICBzZWxlY3RvciA9ICdsdXgtc2lkZS1uYXYtaXRlbSc7XG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUuaW5kZXhPZignbHV4LW1lbnUtaXRlbScpID4gLTEpIHtcbiAgICAgIHNlbGVjdG9yID0gJ2x1eC1tZW51LWl0ZW0nO1xuICAgIH1cbiAgICB0aGlzLmxhYmVsVXBwZXJjYXNlID0gdGhpcy5jb21wb25lbnRzQ29uZmlnU2VydmljZS5pc0xhYmVsVXBwZXJjYXNlRm9yU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG59XG4iXX0=