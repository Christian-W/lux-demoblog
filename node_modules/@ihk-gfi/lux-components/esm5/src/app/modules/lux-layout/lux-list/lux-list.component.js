import * as tslib_1 from "tslib";
import { Component, ContentChildren, EventEmitter, HostBinding, HostListener, Input, Output, QueryList } from '@angular/core';
import { LuxListItemComponent } from './lux-list-subcomponents/lux-list-item.component';
import { FocusKeyManager } from '@angular/cdk/a11y';
import { DOWN_ARROW, END, ENTER, HOME, SPACE, UP_ARROW } from '@angular/cdk/keycodes';
var LuxListComponent = /** @class */ (function () {
    function LuxListComponent() {
        this._luxSelectedPosition = 0;
        this.clickSubscriptions = [];
        this.keyManager = new FocusKeyManager([]);
        this.luxFocusedItemChange = new EventEmitter();
        this.luxFocusedPositionChange = new EventEmitter();
        this.luxSelectedPositionChange = new EventEmitter();
        this.luxEmptyIconName = 'fas fa-info-circle';
        this.luxEmptyIconSize = '5x';
        this.luxEmptyLabel = 'Keine Einträge vorhanden';
        this.role = 'listbox';
        this.tabindex = '0';
        this.ariaMulti = 'true';
    }
    LuxListComponent.prototype.onKeydown = function ($event) {
        this.keydown($event);
    };
    Object.defineProperty(LuxListComponent.prototype, "luxSelectedPosition", {
        get: function () {
            return this._luxSelectedPosition;
        },
        set: function (position) {
            if (position === this.luxSelectedPosition) {
                return;
            }
            this.focus(position);
            this.select(position);
            this.scroll(position);
        },
        enumerable: true,
        configurable: true
    });
    LuxListComponent.prototype.ngOnInit = function () { };
    LuxListComponent.prototype.isEmpty = function () {
        return !this.luxItems || this.luxItems.length === 0;
    };
    LuxListComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // Click-Events der LuxListItems erhalten
        this.listItemsSubscription = this.luxItems.changes.subscribe(function () {
            _this.listenForClicks();
            _this.keyManager = new FocusKeyManager(_this.luxItems);
            if (_this.previousFocusedPosition) {
                _this.keyManager.setActiveItem(_this.previousFocusedPosition);
            }
        });
        this.listenForClicks();
        this.keyManager = new FocusKeyManager(this.luxItems);
        if (this.luxSelectedPosition) {
            this.keyManager.setActiveItem(this.luxSelectedPosition);
        }
    };
    LuxListComponent.prototype.ngOnDestroy = function () {
        var e_1, _a;
        // Sämtliche Subscriptions auflösen
        if (this.listItemsSubscription) {
            this.listItemsSubscription.unsubscribe();
        }
        try {
            for (var _b = tslib_1.__values(this.clickSubscriptions), _c = _b.next(); !_c.done; _c = _b.next()) {
                var subscription = _c.value;
                subscription.unsubscribe();
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    /**
     * Wird beim Drücken einer Taste ausgeführt und handelt die Aktionen bei speziellen Tasten
     * (UP_ARROW || DOWN_ARROW werden vom KeyManager selbstständig gepflegt)
     * @param $event
     */
    LuxListComponent.prototype.keydown = function ($event) {
        var keyCode = $event.keyCode;
        switch (keyCode) {
            case SPACE:
            case ENTER:
                this.select(this.keyManager.activeItemIndex);
                $event.preventDefault();
                break;
            case HOME:
            case END:
                keyCode === HOME ? this.keyManager.setFirstItemActive() : this.keyManager.setLastItemActive();
                this.focus(this.keyManager.activeItemIndex);
                $event.preventDefault();
                break;
            case UP_ARROW:
                this.keyManager.setPreviousItemActive();
                this.focus(this.keyManager.activeItemIndex);
                $event.preventDefault();
                break;
            case DOWN_ARROW:
                this.keyManager.setNextItemActive();
                this.focus(this.keyManager.activeItemIndex);
                $event.preventDefault();
                break;
            default:
                this.keyManager.onKeydown($event);
        }
    };
    /**
     * Auf Click-Events der hier bekannten LuxListItems hören und entsprechend das selektierte ListItem aktualisieren.
     */
    LuxListComponent.prototype.listenForClicks = function () {
        var _this = this;
        var e_2, _a;
        try {
            for (var _b = tslib_1.__values(this.clickSubscriptions), _c = _b.next(); !_c.done; _c = _b.next()) {
                var subscription = _c.value;
                subscription.unsubscribe();
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_2) throw e_2.error; }
        }
        this.clickSubscriptions = [];
        this.luxItems.forEach(function (listItem, index) {
            _this.clickSubscriptions.push(listItem.luxClicked.subscribe(function () {
                _this.focus(index);
                _this.select(index);
            }));
        });
    };
    /**
     * Merkt sich die position als Selektions-Position und aktualisiert den luxSelected-Wert
     * aller luxItems, die hier bekannt sind.
     * @param position
     */
    LuxListComponent.prototype.select = function (position) {
        this._luxSelectedPosition = position;
        this.previousFocusedPosition = position;
        this.luxSelectedPositionChange.emit(position);
        if (this.luxItems) {
            this.luxItems.forEach(function (listItem) {
                listItem.luxSelected = false;
            });
            var selectedListItem = this.findListItem(position);
            if (selectedListItem) {
                selectedListItem.luxSelected = true;
            }
        }
    };
    /**
     * Merkt sich die position als Fokus-Position und aktualisiert die CSS-Klassen der ListItems.
     * @param position
     */
    LuxListComponent.prototype.focus = function (position) {
        this.keyManager.setActiveItem(position);
        this.luxFocusedPositionChange.emit(position);
        this.luxFocusedItemChange.emit(this.keyManager.activeItem);
        this.previousFocusedPosition = position;
    };
    /**
     * Scrollt zu dem Element an der position.
     * @param position
     */
    LuxListComponent.prototype.scroll = function (position) {
        if (this.luxItems) {
            var listItem = this.keyManager.activeItem;
            if (listItem) {
                listItem.elementRef.nativeElement.scrollIntoView(true);
            }
        }
    };
    /**
     * Gibt das ListItem an der position zurück bzw. null wenn die luxItems undefined/null sind.
     * @param position
     */
    LuxListComponent.prototype.findListItem = function (position) {
        return this.luxItems
            ? this.luxItems.find(function (listItem, index) { return index === position; })
            : null;
    };
    tslib_1.__decorate([
        ContentChildren(LuxListItemComponent),
        tslib_1.__metadata("design:type", QueryList)
    ], LuxListComponent.prototype, "luxItems", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxListComponent.prototype, "luxFocusedItemChange", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxListComponent.prototype, "luxFocusedPositionChange", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxListComponent.prototype, "luxSelectedPositionChange", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "luxEmptyIconName", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "luxEmptyIconSize", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "luxEmptyLabel", void 0);
    tslib_1.__decorate([
        HostBinding('attr.role'),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "role", void 0);
    tslib_1.__decorate([
        HostBinding('attr.tabindex'),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "tabindex", void 0);
    tslib_1.__decorate([
        HostBinding('attr.aria-multiselectable'),
        tslib_1.__metadata("design:type", Object)
    ], LuxListComponent.prototype, "ariaMulti", void 0);
    tslib_1.__decorate([
        HostListener('keydown', ['$event']),
        tslib_1.__metadata("design:type", Function),
        tslib_1.__metadata("design:paramtypes", [Object]),
        tslib_1.__metadata("design:returntype", void 0)
    ], LuxListComponent.prototype, "onKeydown", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number),
        tslib_1.__metadata("design:paramtypes", [Number])
    ], LuxListComponent.prototype, "luxSelectedPosition", null);
    LuxListComponent = tslib_1.__decorate([
        Component({
            selector: 'lux-list',
            template: "<!-- die tats\u00E4chlichen LuxListItems via Content-Projection einbinden -->\n<ng-content *ngIf=\"!isEmpty()\"></ng-content>\n<!-- wenn keine gefunden werden konnten, Empty-Icon und Empty-Label anzeigen -->\n<div class=\"lux-list-empty\" fxFill *ngIf=\"isEmpty()\">\n  <div fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"center center\">\n    <lux-icon class=\"lux-list-empty-icon\" [luxIconName]=\"luxEmptyIconName\" [luxIconSize]=\"luxEmptyIconSize\"> </lux-icon>\n    <span class=\"lux-list-empty-icon-text\">\n      <strong>{{ luxEmptyLabel }}</strong>\n    </span>\n  </div>\n</div>\n",
            styles: ["@charset \"UTF-8\";lux-side-nav .lux-side-nav-item,lux-side-nav lux-link{box-sizing:border-box}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected,lux-side-nav lux-link.lux-side-nav-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected:after,lux-side-nav lux-link.lux-side-nav-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-side-nav .lux-side-nav-item button .mat-button-focus-overlay,lux-side-nav lux-link button .mat-button-focus-overlay{display:none}lux-side-nav .lux-side-nav-item button:focus,lux-side-nav lux-link button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-side-nav .lux-side-nav-item button:hover,lux-side-nav lux-link button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-list{border:4px solid transparent}lux-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-list lux-list-item:focus{outline-width:0}lux-list lux-list-item:focus mat-card{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-list lux-list-item lux-card mat-card{box-sizing:border-box}lux-list lux-list-item lux-card mat-card:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-label>*{color:#335c85}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb{position:relative}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-container:after{content:'';display:block;box-sizing:border-box;left:0;right:0;position:absolute;height:2px;border-bottom:2px solid #0073b3}lux-datepicker mat-datepicker-toggle button:focus:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}.lux-datepicker-panel .mat-calendar-header button .mat-button-focus-overlay,lux-datepicker mat-datepicker-toggle .mat-button-focus-overlay{display:none}.lux-datepicker-panel .mat-calendar-header button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-header button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell:hover>div{background-color:rgba(0,0,0,.2)!important;border-radius:999px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell.mat-calendar-body-active>div{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:999px}lux-table tr:hover>td,lux-table tr:hover>th{border-radius:0;background-color:#cfcfcf!important}lux-table th button.mat-sort-header-button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option{border-left:0;box-sizing:border-box}.lux-select-panel mat-option.mat-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}.lux-select-panel mat-option.mat-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}.lux-select-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option.mat-active,.lux-select-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]) .mat-button-focus-overlay{display:none}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]).mat-fab:focus,lux-button button:not([disabled]).mat-raised-button:focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]).mat-fab:focus.mat-accent,lux-button button:not([disabled]).mat-raised-button:focus.mat-accent{background-color:#b6d184!important}lux-button button:not([disabled]).mat-fab:focus.mat-warn,lux-button button:not([disabled]).mat-raised-button:focus.mat-warn{background-color:#ea2524!important}lux-button button:not([disabled]).mat-fab:focus.mat-primary,lux-button button:not([disabled]).mat-raised-button:focus.mat-primary{background-color:#4b82ba!important}.lux-autocomplete-panel mat-option{border-left:0;box-sizing:border-box}.lux-autocomplete-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-autocomplete-panel mat-option.mat-active,.lux-autocomplete-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-tabs mat-ink-bar{background-color:#0073b3!important}lux-tabs .mat-tab-label:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:hover,lux-stepper mat-step-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:focus,lux-stepper mat-step-header:focus,lux-stepper mat-step-header[aria-selected=true],lux-tile mat-card:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-master-detail lux-master-header .lux-master-header-collapse button.lux-button:not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(0,0,0,.2)!important}lux-file-list .lux-file-list{border:4px solid transparent}lux-file-list .lux-file-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list .lux-file-list-entry{border:4px solid transparent}lux-file-list .lux-file-list .lux-file-list-entry:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list mat-card{margin:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-dialog-structure lux-dialog-content:focus,lux-dialog-structure lux-dialog-title:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item,example-root .example-base-components-list mat-expansion-panel-header{box-sizing:border-box}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected:after,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}example-root .example-base-components-list .example-component-list-item:focus,example-root .example-base-components-list mat-expansion-panel-header:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item:hover,example-root .example-base-components-list mat-expansion-panel-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-app-container,body,html{height:100%}.lux-app-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}body{-webkit-overflow-scrolling:touch}div{font-family:Roboto,Helvetica Neue,sans-serif}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing.lux-file-preview-backdrop{background:#000;opacity:.8!important}lux-card.lux-card-grow{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:400px;min-width:0}lux-card.lux-card-grow mat-card,lux-card.lux-card-grow mat-card-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0}.lux-crop{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lux-label{color:rgba(0,0,0,.54);font-size:75%}.lux-hint{color:rgba(0,0,0,.6);font-size:12px}.lux-display-none{display:none}.lux-hidden{visibility:hidden}.lux-nowrap{white-space:nowrap}.lux-cursor{cursor:pointer}.lux-block-pointer-events{pointer-events:none}.lux-vertical-align-baseline{vertical-align:baseline!important}.lux-black-semi-transparent{color:rgba(0,0,0,.87)}.lux-semi-transparent{opacity:.6}.lux-overflow-y-hidden{overflow-y:hidden}.lux-overflow-y-auto{overflow-y:auto}.lux-overflow-wrap-break-word{overflow-wrap:break-word}.lux-bold{font-weight:700!important}.lux-uppercase{text-transform:uppercase!important}.lux-lowercase{text-transform:lowercase!important}.lux-hyphenate{overflow-wrap:break-word;word-wrap:break-word;word-break:normal;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow-x:auto}.lux-p-footer,.lux-p-header{padding:8px}.lux-snackbar{top:68px;right:8px;position:absolute;margin:0!important;min-width:unset!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-snack-bar-handset .lux-snackbar{left:8px;width:auto!important}.lux-mt-0{margin-top:0}.lux-pt-0{padding-top:0}.lux-mt-1{margin-top:2px}.lux-pt-1{padding-top:2px}.lux-mt-2{margin-top:4px}.lux-pt-2{padding-top:4px}.lux-mt-3{margin-top:8px}.lux-pt-3{padding-top:8px}.lux-mt-4{margin-top:16px}.lux-pt-4{padding-top:16px}.lux-mb-0{margin-bottom:0}.lux-pb-0{padding-bottom:0}.lux-mb-1{margin-bottom:2px}.lux-pb-1{padding-bottom:2px}.lux-mb-2{margin-bottom:4px}.lux-pb-2{padding-bottom:4px}.lux-mb-3{margin-bottom:8px}.lux-pb-3{padding-bottom:8px}.lux-mb-4{margin-bottom:16px}.lux-pb-4{padding-bottom:16px}.lux-ml-0{margin-left:0}.lux-pl-0{padding-left:0}.lux-ml-1{margin-left:2px}.lux-pl-1{padding-left:2px}.lux-ml-2{margin-left:4px}.lux-pl-2{padding-left:4px}.lux-ml-3{margin-left:8px}.lux-pl-3{padding-left:8px}.lux-ml-4{margin-left:16px}.lux-pl-4{padding-left:16px}.lux-m-0{margin:0}.lux-mr-0{margin-right:0}.lux-p-0{padding:0}.lux-pr-0{padding-right:0}.lux-m-1{margin:2px}.lux-mr-1{margin-right:2px}.lux-p-1{padding:2px}.lux-pr-1{padding-right:2px}.lux-m-2{margin:4px}.lux-mr-2{margin-right:4px}.lux-p-2{padding:4px}.lux-pr-2{padding-right:4px}.lux-m-3{margin:8px}.lux-mr-3{margin-right:8px}.lux-p-3{padding:8px}.lux-pr-3{padding-right:8px}.lux-m-4{margin:16px}.lux-mr-4{margin-right:16px}.lux-p-4{padding:16px}.lux-pr-4{padding-right:16px}.lux-flex-layout-gap-10[style*=row]>:not(:last-child){margin-right:10px}.lux-flex-layout-gap-10[style*=column]>:not(:last-child){margin-bottom:10px}.lux-flex-layout-gap-20[style*=row]>:not(:last-child){margin-right:20px}.lux-flex-layout-gap-20[style*=column]>:not(:last-child){margin-bottom:20px}.lux-flex-layout-gap-30[style*=row]>:not(:last-child){margin-right:30px}.lux-flex-layout-gap-30[style*=column]>:not(:last-child){margin-bottom:30px}.lux-z-index-100{z-index:100}.lux-z-index-500{z-index:500}.lux-z-index-1000{z-index:1000}.lux-uppercase>lux-button .lux-button-label,lux-button.lux-uppercase .lux-button-label{text-transform:uppercase}.lux-bg-color-red{background:#b01211}.lux-bg-color-green{background:#95bc4c}.lux-bg-color-yellow{background:#ebc000}.lux-bg-color-blue{background:#335c85}.lux-bg-color-gray{background:#c8c8c8}.lux-bg-color-orange{background:#ec9c1b}.lux-bg-color-brown{background:#783f04}.lux-font-color-black{color:#000}.lux-font-color-white{color:#fff}.lux-badge-notification.mat-badge-large .mat-badge-content{font-size:15px}.lux-badge-notification.lux-badge-color-default .mat-badge-content{color:#000;background:#fff;border:1px solid rgba(0,0,0,.87)}:host{position:relative;height:100%;width:100%;display:block;overflow-y:auto;box-sizing:border-box}.lux-list-empty{position:absolute;top:0;left:0;right:0;bottom:0}.lux-list-empty-icon,.lux-list-empty-icon-text{opacity:.6;color:rgba(0,0,0,.87);padding:0 8px}"]
        }),
        tslib_1.__metadata("design:paramtypes", [])
    ], LuxListComponent);
    return LuxListComponent;
}());
export { LuxListComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LWxpc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGloay1nZmkvbHV4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJzcmMvYXBwL21vZHVsZXMvbHV4LWxheW91dC9sdXgtbGlzdC9sdXgtbGlzdC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFFTCxTQUFTLEVBQ1QsZUFBZSxFQUNmLFlBQVksRUFDWixXQUFXLEVBQ1gsWUFBWSxFQUNaLEtBQUssRUFHTCxNQUFNLEVBQ04sU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBRXhGLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQU90RjtJQXdDRTtRQXZDUSx5QkFBb0IsR0FBVyxDQUFDLENBQUM7UUFHakMsdUJBQWtCLEdBQW1CLEVBQUUsQ0FBQztRQUV4QyxlQUFVLEdBQTBDLElBQUksZUFBZSxDQUF1QixFQUFFLENBQUMsQ0FBQztRQUloRyx5QkFBb0IsR0FBdUMsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUM5RSw2QkFBd0IsR0FBeUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNwRSw4QkFBeUIsR0FBeUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUV0RSxxQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQztRQUN4QyxxQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFDeEIsa0JBQWEsR0FBRywwQkFBMEIsQ0FBQztRQUUxQixTQUFJLEdBQUcsU0FBUyxDQUFDO1FBQ2IsYUFBUSxHQUFHLEdBQUcsQ0FBQztRQUNILGNBQVMsR0FBRyxNQUFNLENBQUM7SUFvQjlDLENBQUM7SUFsQnFCLG9DQUFTLEdB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QXBCLFVBQXFCLFFBQWdCO1FBQ25DLE9BQU8sSUFBSSxDQUFDLFFBQVE7WUFDbEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQUMsUUFBOEIsRUFBRSxLQUFhLElBQUssT0FBQSxLQUFLLEtBQUssUUFBUSxFQUFsQixDQUFrQixDQUFDO1lBQzNGLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDWCxDQUFDO0lBakxzQztRQUF0QyxlQUFlLENBQUMsb0JBQW9CLENBQUM7MENBQVcsU0FBUztzREFBdUI7SUFFdkU7UUFBVCxNQUFNLEVBQUU7MENBQXVCLFlBQVk7a0VBQTRDO0lBQzlFO1FBQVQsTUFBTSxFQUFFOzBDQUEyQixZQUFZO3NFQUE4QjtJQUNwRTtRQUFULE1BQU0sRUFBRTswQ0FBNEIsWUFBWTt1RUFBOEI7SUFFdEU7UUFBUixLQUFLLEVBQUU7OzhEQUF5QztJQUN4QztRQUFSLEtBQUssRUFBRTs7OERBQXlCO0lBQ3hCO1FBQVIsS0FBSyxFQUFFOzsyREFBNEM7SUFFMUI7UUFBekIsV0FBVyxDQUFDLFdBQVcsQ0FBQzs7a0RBQWtCO0lBQ2I7UUFBN0IsV0FBVyxDQUFDLGVBQWUsQ0FBQzs7c0RBQWdCO0lBQ0g7UUFBekMsV0FBVyxDQUFDLDJCQUEyQixDQUFDOzt1REFBb0I7SUFFeEI7UUFBcEMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzs7O3FEQUVuQztJQU1RO1FBQVIsS0FBSyxFQUFFOzs7K0RBUVA7SUF0Q1UsZ0JBQWdCO1FBTDVCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxVQUFVO1lBQ3BCLDBsQkFBd0M7O1NBRXpDLENBQUM7O09BQ1csZ0JBQWdCLENBMEw1QjtJQUFELHVCQUFDO0NBQUEsQUExTEQsSUEwTEM7U0ExTFksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdEJpbmRpbmcsXG4gIEhvc3RMaXN0ZW5lcixcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEx1eExpc3RJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9sdXgtbGlzdC1zdWJjb21wb25lbnRzL2x1eC1saXN0LWl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRm9jdXNLZXlNYW5hZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2ExMXknO1xuaW1wb3J0IHsgRE9XTl9BUlJPVywgRU5ELCBFTlRFUiwgSE9NRSwgU1BBQ0UsIFVQX0FSUk9XIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2tleWNvZGVzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbHV4LWxpc3QnLFxuICB0ZW1wbGF0ZVVybDogJy4vbHV4LWxpc3QuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sdXgtbGlzdC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEx1eExpc3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgX2x1eFNlbGVjdGVkUG9zaXRpb246IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBwcmV2aW91c0ZvY3VzZWRQb3NpdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGNsaWNrU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBsaXN0SXRlbXNTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSBrZXlNYW5hZ2VyOiBGb2N1c0tleU1hbmFnZXI8THV4TGlzdEl0ZW1Db21wb25lbnQ+ID0gbmV3IEZvY3VzS2V5TWFuYWdlcjxMdXhMaXN0SXRlbUNvbXBvbmVudD4oW10pO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oTHV4TGlzdEl0ZW1Db21wb25lbnQpIGx1eEl0ZW1zOiBRdWVyeUxpc3Q8THV4TGlzdEl0ZW1Db21wb25lbnQ+O1xuXG4gIEBPdXRwdXQoKSBsdXhGb2N1c2VkSXRlbUNoYW5nZTogRXZlbnRFbWl0dGVyPEx1eExpc3RJdGVtQ29tcG9uZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIGx1eEZvY3VzZWRQb3NpdGlvbkNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBsdXhTZWxlY3RlZFBvc2l0aW9uQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBASW5wdXQoKSBsdXhFbXB0eUljb25OYW1lID0gJ2ZhcyBmYS1pbmZvLWNpcmNsZSc7XG4gIEBJbnB1dCgpIGx1eEVtcHR5SWNvblNpemUgPSAnNXgnO1xuICBASW5wdXQoKSBsdXhFbXB0eUxhYmVsID0gJ0tlaW5lIEVpbnRyw6RnZSB2b3JoYW5kZW4nO1xuXG4gIEBIb3N0QmluZGluZygnYXR0ci5yb2xlJykgcm9sZSA9ICdsaXN0Ym94JztcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnRhYmluZGV4JykgdGFiaW5kZXggPSAnMCc7XG4gIEBIb3N0QmluZGluZygnYXR0ci5hcmlhLW11bHRpc2VsZWN0YWJsZScpIGFyaWFNdWx0aSA9ICd0cnVlJztcblxuICBASG9zdExpc3RlbmVyKCdrZXlkb3duJywgWyckZXZlbnQnXSkgb25LZXlkb3duKCRldmVudCkge1xuICAgIHRoaXMua2V5ZG93bigkZXZlbnQpO1xuICB9XG5cbiAgZ2V0IGx1eFNlbGVjdGVkUG9zaXRpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbHV4U2VsZWN0ZWRQb3NpdGlvbjtcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBsdXhTZWxlY3RlZFBvc2l0aW9uKHBvc2l0aW9uOiBudW1iZXIpIHtcbiAgICBpZiAocG9zaXRpb24gPT09IHRoaXMubHV4U2VsZWN0ZWRQb3NpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZm9jdXMocG9zaXRpb24pO1xuICAgIHRoaXMuc2VsZWN0KHBvc2l0aW9uKTtcbiAgICB0aGlzLnNjcm9sbChwb3NpdGlvbik7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgbmdPbkluaXQoKSB7fVxuXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuICF0aGlzLmx1eEl0ZW1zIHx8IHRoaXMubHV4SXRlbXMubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIC8vIENsaWNrLUV2ZW50cyBkZXIgTHV4TGlzdEl0ZW1zIGVyaGFsdGVuXG4gICAgdGhpcy5saXN0SXRlbXNTdWJzY3JpcHRpb24gPSB0aGlzLmx1eEl0ZW1zLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuRm9yQ2xpY2tzKCk7XG4gICAgICB0aGlzLmtleU1hbmFnZXIgPSBuZXcgRm9jdXNLZXlNYW5hZ2VyPEx1eExpc3RJdGVtQ29tcG9uZW50Pih0aGlzLmx1eEl0ZW1zKTtcbiAgICAgIGlmICh0aGlzLnByZXZpb3VzRm9jdXNlZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMua2V5TWFuYWdlci5zZXRBY3RpdmVJdGVtKHRoaXMucHJldmlvdXNGb2N1c2VkUG9zaXRpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMubGlzdGVuRm9yQ2xpY2tzKCk7XG4gICAgdGhpcy5rZXlNYW5hZ2VyID0gbmV3IEZvY3VzS2V5TWFuYWdlcjxMdXhMaXN0SXRlbUNvbXBvbmVudD4odGhpcy5sdXhJdGVtcyk7XG4gICAgaWYgKHRoaXMubHV4U2VsZWN0ZWRQb3NpdGlvbikge1xuICAgICAgdGhpcy5rZXlNYW5hZ2VyLnNldEFjdGl2ZUl0ZW0odGhpcy5sdXhTZWxlY3RlZFBvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICAvLyBTw6RtdGxpY2hlIFN1YnNjcmlwdGlvbnMgYXVmbMO2c2VuXG4gICAgaWYgKHRoaXMubGlzdEl0ZW1zU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLmxpc3RJdGVtc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLmNsaWNrU3Vic2NyaXB0aW9ucykge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdpcmQgYmVpbSBEcsO8Y2tlbiBlaW5lciBUYXN0ZSBhdXNnZWbDvGhydCB1bmQgaGFuZGVsdCBkaWUgQWt0aW9uZW4gYmVpIHNwZXppZWxsZW4gVGFzdGVuXG4gICAqIChVUF9BUlJPVyB8fCBET1dOX0FSUk9XIHdlcmRlbiB2b20gS2V5TWFuYWdlciBzZWxic3RzdMOkbmRpZyBnZXBmbGVndClcbiAgICogQHBhcmFtICRldmVudFxuICAgKi9cbiAga2V5ZG93bigkZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXlDb2RlID0gJGV2ZW50LmtleUNvZGU7XG4gICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICBjYXNlIFNQQUNFOlxuICAgICAgY2FzZSBFTlRFUjpcbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5rZXlNYW5hZ2VyLmFjdGl2ZUl0ZW1JbmRleCk7XG4gICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSE9NRTpcbiAgICAgIGNhc2UgRU5EOlxuICAgICAgICBrZXlDb2RlID09PSBIT01FID8gdGhpcy5rZXlNYW5hZ2VyLnNldEZpcnN0SXRlbUFjdGl2ZSgpIDogdGhpcy5rZXlNYW5hZ2VyLnNldExhc3RJdGVtQWN0aXZlKCk7XG4gICAgICAgIHRoaXMuZm9jdXModGhpcy5rZXlNYW5hZ2VyLmFjdGl2ZUl0ZW1JbmRleCk7XG4gICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVVBfQVJST1c6XG4gICAgICAgIHRoaXMua2V5TWFuYWdlci5zZXRQcmV2aW91c0l0ZW1BY3RpdmUoKTtcbiAgICAgICAgdGhpcy5mb2N1cyh0aGlzLmtleU1hbmFnZXIuYWN0aXZlSXRlbUluZGV4KTtcbiAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBET1dOX0FSUk9XOlxuICAgICAgICB0aGlzLmtleU1hbmFnZXIuc2V0TmV4dEl0ZW1BY3RpdmUoKTtcbiAgICAgICAgdGhpcy5mb2N1cyh0aGlzLmtleU1hbmFnZXIuYWN0aXZlSXRlbUluZGV4KTtcbiAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5rZXlNYW5hZ2VyLm9uS2V5ZG93bigkZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBdWYgQ2xpY2stRXZlbnRzIGRlciBoaWVyIGJla2FubnRlbiBMdXhMaXN0SXRlbXMgaMO2cmVuIHVuZCBlbnRzcHJlY2hlbmQgZGFzIHNlbGVrdGllcnRlIExpc3RJdGVtIGFrdHVhbGlzaWVyZW4uXG4gICAqL1xuICBwcml2YXRlIGxpc3RlbkZvckNsaWNrcygpIHtcbiAgICBmb3IgKGNvbnN0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLmNsaWNrU3Vic2NyaXB0aW9ucykge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGlja1N1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgIHRoaXMubHV4SXRlbXMuZm9yRWFjaCgobGlzdEl0ZW06IEx1eExpc3RJdGVtQ29tcG9uZW50LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICB0aGlzLmNsaWNrU3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICBsaXN0SXRlbS5sdXhDbGlja2VkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5mb2N1cyhpbmRleCk7XG4gICAgICAgICAgdGhpcy5zZWxlY3QoaW5kZXgpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJrdCBzaWNoIGRpZSBwb3NpdGlvbiBhbHMgU2VsZWt0aW9ucy1Qb3NpdGlvbiB1bmQgYWt0dWFsaXNpZXJ0IGRlbiBsdXhTZWxlY3RlZC1XZXJ0XG4gICAqIGFsbGVyIGx1eEl0ZW1zLCBkaWUgaGllciBiZWthbm50IHNpbmQuXG4gICAqIEBwYXJhbSBwb3NpdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzZWxlY3QocG9zaXRpb246IG51bWJlcikge1xuICAgIHRoaXMuX2x1eFNlbGVjdGVkUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnByZXZpb3VzRm9jdXNlZFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5sdXhTZWxlY3RlZFBvc2l0aW9uQ2hhbmdlLmVtaXQocG9zaXRpb24pO1xuXG4gICAgaWYgKHRoaXMubHV4SXRlbXMpIHtcbiAgICAgIHRoaXMubHV4SXRlbXMuZm9yRWFjaCgobGlzdEl0ZW06IEx1eExpc3RJdGVtQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIGxpc3RJdGVtLmx1eFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2VsZWN0ZWRMaXN0SXRlbSA9IHRoaXMuZmluZExpc3RJdGVtKHBvc2l0aW9uKTtcbiAgICAgIGlmIChzZWxlY3RlZExpc3RJdGVtKSB7XG4gICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0ubHV4U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJrdCBzaWNoIGRpZSBwb3NpdGlvbiBhbHMgRm9rdXMtUG9zaXRpb24gdW5kIGFrdHVhbGlzaWVydCBkaWUgQ1NTLUtsYXNzZW4gZGVyIExpc3RJdGVtcy5cbiAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAqL1xuICBwcml2YXRlIGZvY3VzKHBvc2l0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmtleU1hbmFnZXIuc2V0QWN0aXZlSXRlbShwb3NpdGlvbik7XG5cbiAgICB0aGlzLmx1eEZvY3VzZWRQb3NpdGlvbkNoYW5nZS5lbWl0KHBvc2l0aW9uKTtcbiAgICB0aGlzLmx1eEZvY3VzZWRJdGVtQ2hhbmdlLmVtaXQodGhpcy5rZXlNYW5hZ2VyLmFjdGl2ZUl0ZW0pO1xuXG4gICAgdGhpcy5wcmV2aW91c0ZvY3VzZWRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbHQgenUgZGVtIEVsZW1lbnQgYW4gZGVyIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICovXG4gIHByaXZhdGUgc2Nyb2xsKHBvc2l0aW9uOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5sdXhJdGVtcykge1xuICAgICAgY29uc3QgbGlzdEl0ZW0gPSB0aGlzLmtleU1hbmFnZXIuYWN0aXZlSXRlbTtcblxuICAgICAgaWYgKGxpc3RJdGVtKSB7XG4gICAgICAgIGxpc3RJdGVtLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldyh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2lidCBkYXMgTGlzdEl0ZW0gYW4gZGVyIHBvc2l0aW9uIHp1csO8Y2sgYnp3LiBudWxsIHdlbm4gZGllIGx1eEl0ZW1zIHVuZGVmaW5lZC9udWxsIHNpbmQuXG4gICAqIEBwYXJhbSBwb3NpdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kTGlzdEl0ZW0ocG9zaXRpb246IG51bWJlcik6IEx1eExpc3RJdGVtQ29tcG9uZW50IHtcbiAgICByZXR1cm4gdGhpcy5sdXhJdGVtc1xuICAgICAgPyB0aGlzLmx1eEl0ZW1zLmZpbmQoKGxpc3RJdGVtOiBMdXhMaXN0SXRlbUNvbXBvbmVudCwgaW5kZXg6IG51bWJlcikgPT4gaW5kZXggPT09IHBvc2l0aW9uKVxuICAgICAgOiBudWxsO1xuICB9XG59XG4iXX0=