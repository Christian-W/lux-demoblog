import * as tslib_1 from "tslib";
import { Component, ContentChildren, ElementRef, HostListener, Input, QueryList, ViewChild } from '@angular/core';
import { LuxSideNavItemComponent } from './lux-side-nav-subcomponents/lux-side-nav-item.component';
import { sideNavAnimation, sideNavOverlayAnimation } from './lux-side-nav-model/lux-side-nav-animations';
var LuxSideNavComponent = /** @class */ (function () {
    function LuxSideNavComponent() {
        this.luxDashboardLinkTitle = 'LUX Dashboard';
        this.sideNavExpanded = false;
        this.visibility = 'hidden';
        this.itemClickSubscriptions = [];
    }
    LuxSideNavComponent.prototype.keyEvent = function (event) {
        if (event.key === 'Escape' && this.sideNavExpanded) {
            // Escape soll nur das Menü schließen, wenn es auch geöffnet ist.
            this.toggle();
        }
    };
    LuxSideNavComponent.prototype.windowResize = function () {
        this.calculateWidthHeight();
    };
    LuxSideNavComponent.prototype.ngOnInit = function () { };
    LuxSideNavComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.sideNavItems.changes.subscribe(function () { return _this.updateItemClickListeners(); });
        this.updateItemClickListeners();
        this.calculateWidthHeight();
    };
    LuxSideNavComponent.prototype.ngOnDestroy = function () {
        this.itemClickSubscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
    };
    LuxSideNavComponent.prototype.toggle = function () {
        var _this = this;
        this.sideNavExpanded = !this.sideNavExpanded;
        if (this.sideNavExpanded) {
            this.visibility = 'visible';
            this.calculateWidthHeight();
            // Hier wird sich der Menübutton zwischengespeichert
            this.focusElement = document.activeElement;
        }
        else {
            setTimeout(function () {
                // Wenn das SideNavMenü geschlossen wird, wird wieder der SideNavMenübutton fokusiert.
                if (_this.focusElement) {
                    _this.focusElement.focus();
                }
            });
        }
    };
    /**
     * Wenn die Animation beendet ist, wird das Menü ausgeblendet, damit der Fokus weiter zum Inhalt springt und nicht
     * durch das versteckte Menü wandert. Das ist auch für Screenreader nötig.
     */
    LuxSideNavComponent.prototype.updateSideNavAfterAnimationIsFinished = function () {
        var _this = this;
        this.visibility = this.sideNavExpanded ? 'visible' : 'hidden';
        // Den Fokus auf den ersten Button setzen
        if (this.sideNavExpanded && this.sideNavEl && this.sideNavEl.nativeElement) {
            setTimeout(function () {
                var firstButton = _this.sideNavEl.nativeElement.querySelector('button');
                if (firstButton) {
                    firstButton.focus();
                }
            });
        }
    };
    LuxSideNavComponent.prototype.open = function () {
        this.sideNavExpanded = true;
        this.calculateWidthHeight();
    };
    LuxSideNavComponent.prototype.close = function () {
        this.sideNavExpanded = false;
    };
    /**
     * Berechnet die Höhe für den Container der SideNavMenuItems.
     * Dafür wird die Gesamthöhe minus der Höhe des Headers und des Footers sowie eine feste Höhe
     * für den App-Header gerechnet.
     */
    LuxSideNavComponent.prototype.calculateWidthHeight = function () {
        var _this = this;
        setTimeout(function () {
            var totalHeight = _this.sideNavEl.nativeElement.offsetHeight;
            var headerHeight = _this.sideNavHeaderEl.nativeElement.offsetHeight;
            var footerHeight = _this.sideNavFooterEl.nativeElement.offsetHeight;
            _this.height = totalHeight - headerHeight - footerHeight;
            _this.width = _this.sideNavEl.nativeElement.offsetWidth + 20 /* Sicherheitsaufschlag (Schatten, Scrollbar,...) */;
        });
    };
    /**
     * Hängt sich an die Klick-Events der einzelnen SideNavItems, um so, je nach Einstellung der Items,
     * die SideNav zu schließen.
     */
    LuxSideNavComponent.prototype.updateItemClickListeners = function () {
        var _this = this;
        this.itemClickSubscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
        this.sideNavItems.forEach(function (item) {
            _this.itemClickSubscriptions.push(item.luxClicked.subscribe(function () {
                if (item.luxCloseOnClick) {
                    _this.close();
                }
            }));
        });
    };
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], LuxSideNavComponent.prototype, "luxDashboardLink", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], LuxSideNavComponent.prototype, "luxDashboardLinkTitle", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], LuxSideNavComponent.prototype, "luxOpenLinkBlank", void 0);
    tslib_1.__decorate([
        ContentChildren(LuxSideNavItemComponent, { descendants: true }),
        tslib_1.__metadata("design:type", QueryList)
    ], LuxSideNavComponent.prototype, "sideNavItems", void 0);
    tslib_1.__decorate([
        ContentChildren(LuxSideNavItemComponent, { descendants: false }),
        tslib_1.__metadata("design:type", QueryList)
    ], LuxSideNavComponent.prototype, "directSideNavItems", void 0);
    tslib_1.__decorate([
        ViewChild('sideNav', { read: ElementRef, static: true }),
        tslib_1.__metadata("design:type", ElementRef)
    ], LuxSideNavComponent.prototype, "sideNavEl", void 0);
    tslib_1.__decorate([
        ViewChild('sideNavHeader', { read: ElementRef, static: true }),
        tslib_1.__metadata("design:type", ElementRef)
    ], LuxSideNavComponent.prototype, "sideNavHeaderEl", void 0);
    tslib_1.__decorate([
        ViewChild('sideNavFooter', { read: ElementRef, static: true }),
        tslib_1.__metadata("design:type", ElementRef)
    ], LuxSideNavComponent.prototype, "sideNavFooterEl", void 0);
    tslib_1.__decorate([
        HostListener('window:keyup', ['$event']),
        tslib_1.__metadata("design:type", Function),
        tslib_1.__metadata("design:paramtypes", [KeyboardEvent]),
        tslib_1.__metadata("design:returntype", void 0)
    ], LuxSideNavComponent.prototype, "keyEvent", null);
    tslib_1.__decorate([
        HostListener('window:resize'),
        tslib_1.__metadata("design:type", Function),
        tslib_1.__metadata("design:paramtypes", []),
        tslib_1.__metadata("design:returntype", void 0)
    ], LuxSideNavComponent.prototype, "windowResize", null);
    LuxSideNavComponent = tslib_1.__decorate([
        Component({
            selector: 'lux-side-nav',
            template: "<div [ngStyle]=\"{ visibility: visibility }\">\n  <div\n    class=\"lux-side-nav lux-side-nav-z-index\"\n    [@expandHide]=\"{ value: sideNavExpanded ? 'expanded' : 'void', params: { width: width + 'px' } }\"\n    (@expandHide.done)=\"updateSideNavAfterAnimationIsFinished()\"\n    #sideNav\n  >\n    <div class=\"lux-side-nav-header\" #sideNavHeader>\n      <ng-content select=\"lux-side-nav-header\"></ng-content>\n    </div>\n    <div class=\"lux-side-nav-content\" fxLayout=\"column\" [ngStyle]=\"{ height: height + 'px', visibility: visibility }\">\n      <ng-container *ngIf=\"luxDashboardLink\">\n        <lux-link\n          luxIconName=\"fa-th\"\n          [luxLabel]=\"luxDashboardLinkTitle\"\n          [luxBlank]=\"luxOpenLinkBlank\"\n          [luxHref]=\"luxDashboardLink\"\n        ></lux-link>\n      </ng-container>\n      <ng-container *ngFor=\"let sideNavItem of directSideNavItems\">\n        <ng-container [ngTemplateOutlet]=\"sideNavItem.templateRef\"></ng-container>\n      </ng-container>\n      <ng-content select=\"lux-side-nav-item\"></ng-content>\n    </div>\n    <div class=\"lux-side-nav-footer\" #sideNavFooter>\n      <ng-content select=\"lux-side-nav-footer\"></ng-content>\n    </div>\n  </div>\n  <div\n    class=\"lux-side-nav-overlay lux-side-nav-overlay-z-index\"\n    *ngIf=\"sideNavExpanded\"\n    [@expandHideOverlay]=\"sideNavExpanded ? 'expanded' : 'void'\"\n    (click)=\"close()\"\n  ></div>\n</div>\n",
            animations: [sideNavAnimation, sideNavOverlayAnimation],
            styles: ["@charset \"UTF-8\";lux-side-nav .lux-side-nav-item,lux-side-nav lux-link{box-sizing:border-box}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected,lux-side-nav lux-link.lux-side-nav-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected:after,lux-side-nav lux-link.lux-side-nav-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-side-nav .lux-side-nav-item button .mat-button-focus-overlay,lux-side-nav lux-link button .mat-button-focus-overlay{display:none}lux-side-nav .lux-side-nav-item button:focus,lux-side-nav lux-link button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-side-nav .lux-side-nav-item button:hover,lux-side-nav lux-link button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-list{border:4px solid transparent}lux-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-list lux-list-item:focus{outline-width:0}lux-list lux-list-item:focus mat-card{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-list lux-list-item lux-card mat-card{box-sizing:border-box}lux-list lux-list-item lux-card mat-card:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-label>*{color:#335c85}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb{position:relative}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-container:after{content:'';display:block;box-sizing:border-box;left:0;right:0;position:absolute;height:2px;border-bottom:2px solid #0073b3}lux-datepicker mat-datepicker-toggle button:focus:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}.lux-datepicker-panel .mat-calendar-header button .mat-button-focus-overlay,lux-datepicker mat-datepicker-toggle .mat-button-focus-overlay{display:none}.lux-datepicker-panel .mat-calendar-header button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-header button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell:hover>div{background-color:rgba(0,0,0,.2)!important;border-radius:999px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell.mat-calendar-body-active>div{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:999px}lux-table tr:hover>td,lux-table tr:hover>th{border-radius:0;background-color:#cfcfcf!important}lux-table th button.mat-sort-header-button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option{border-left:0;box-sizing:border-box}.lux-select-panel mat-option.mat-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}.lux-select-panel mat-option.mat-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}.lux-select-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option.mat-active,.lux-select-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]) .mat-button-focus-overlay{display:none}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]).mat-fab:focus,lux-button button:not([disabled]).mat-raised-button:focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]).mat-fab:focus.mat-accent,lux-button button:not([disabled]).mat-raised-button:focus.mat-accent{background-color:#b6d184!important}lux-button button:not([disabled]).mat-fab:focus.mat-warn,lux-button button:not([disabled]).mat-raised-button:focus.mat-warn{background-color:#ea2524!important}lux-button button:not([disabled]).mat-fab:focus.mat-primary,lux-button button:not([disabled]).mat-raised-button:focus.mat-primary{background-color:#4b82ba!important}.lux-autocomplete-panel mat-option{border-left:0;box-sizing:border-box}.lux-autocomplete-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-autocomplete-panel mat-option.mat-active,.lux-autocomplete-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-tabs mat-ink-bar{background-color:#0073b3!important}lux-tabs .mat-tab-label:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:hover,lux-stepper mat-step-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:focus,lux-stepper mat-step-header:focus,lux-stepper mat-step-header[aria-selected=true],lux-tile mat-card:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-master-detail lux-master-header .lux-master-header-collapse button.lux-button:not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(0,0,0,.2)!important}lux-file-list .lux-file-list{border:4px solid transparent}lux-file-list .lux-file-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list .lux-file-list-entry{border:4px solid transparent}lux-file-list .lux-file-list .lux-file-list-entry:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list mat-card{margin:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-dialog-structure lux-dialog-content:focus,lux-dialog-structure lux-dialog-title:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item,example-root .example-base-components-list mat-expansion-panel-header{box-sizing:border-box}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected:after,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}example-root .example-base-components-list .example-component-list-item:focus,example-root .example-base-components-list mat-expansion-panel-header:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item:hover,example-root .example-base-components-list mat-expansion-panel-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-app-container,body,html{height:100%}.lux-app-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}body{-webkit-overflow-scrolling:touch}div{font-family:Roboto,Helvetica Neue,sans-serif}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing.lux-file-preview-backdrop{background:#000;opacity:.8!important}lux-card.lux-card-grow{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:400px;min-width:0}lux-card.lux-card-grow mat-card,lux-card.lux-card-grow mat-card-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0}.lux-crop{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lux-label{color:rgba(0,0,0,.54);font-size:75%}.lux-hint{color:rgba(0,0,0,.6);font-size:12px}.lux-display-none{display:none}.lux-hidden{visibility:hidden}.lux-nowrap{white-space:nowrap}.lux-cursor{cursor:pointer}.lux-block-pointer-events{pointer-events:none}.lux-vertical-align-baseline{vertical-align:baseline!important}.lux-black-semi-transparent{color:rgba(0,0,0,.87)}.lux-semi-transparent{opacity:.6}.lux-overflow-y-hidden{overflow-y:hidden}.lux-overflow-y-auto{overflow-y:auto}.lux-overflow-wrap-break-word{overflow-wrap:break-word}.lux-bold{font-weight:700!important}.lux-uppercase{text-transform:uppercase!important}.lux-lowercase{text-transform:lowercase!important}.lux-hyphenate{overflow-wrap:break-word;word-wrap:break-word;word-break:normal;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow-x:auto}.lux-p-footer,.lux-p-header{padding:8px}.lux-snackbar{top:68px;right:8px;position:absolute;margin:0!important;min-width:unset!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-snack-bar-handset .lux-snackbar{left:8px;width:auto!important}.lux-mt-0{margin-top:0}.lux-pt-0{padding-top:0}.lux-mt-1{margin-top:2px}.lux-pt-1{padding-top:2px}.lux-mt-2{margin-top:4px}.lux-pt-2{padding-top:4px}.lux-mt-3{margin-top:8px}.lux-pt-3{padding-top:8px}.lux-mt-4{margin-top:16px}.lux-pt-4{padding-top:16px}.lux-mb-0{margin-bottom:0}.lux-pb-0{padding-bottom:0}.lux-mb-1{margin-bottom:2px}.lux-pb-1{padding-bottom:2px}.lux-mb-2{margin-bottom:4px}.lux-pb-2{padding-bottom:4px}.lux-mb-3{margin-bottom:8px}.lux-pb-3{padding-bottom:8px}.lux-mb-4{margin-bottom:16px}.lux-pb-4{padding-bottom:16px}.lux-ml-0{margin-left:0}.lux-pl-0{padding-left:0}.lux-ml-1{margin-left:2px}.lux-pl-1{padding-left:2px}.lux-ml-2{margin-left:4px}.lux-pl-2{padding-left:4px}.lux-ml-3{margin-left:8px}.lux-pl-3{padding-left:8px}.lux-ml-4{margin-left:16px}.lux-pl-4{padding-left:16px}.lux-m-0{margin:0}.lux-mr-0{margin-right:0}.lux-p-0{padding:0}.lux-pr-0{padding-right:0}.lux-m-1{margin:2px}.lux-mr-1{margin-right:2px}.lux-p-1{padding:2px}.lux-pr-1{padding-right:2px}.lux-m-2{margin:4px}.lux-mr-2{margin-right:4px}.lux-p-2{padding:4px}.lux-pr-2{padding-right:4px}.lux-m-3{margin:8px}.lux-mr-3{margin-right:8px}.lux-p-3{padding:8px}.lux-pr-3{padding-right:8px}.lux-m-4{margin:16px}.lux-mr-4{margin-right:16px}.lux-p-4{padding:16px}.lux-pr-4{padding-right:16px}.lux-flex-layout-gap-10[style*=row]>:not(:last-child){margin-right:10px}.lux-flex-layout-gap-10[style*=column]>:not(:last-child){margin-bottom:10px}.lux-flex-layout-gap-20[style*=row]>:not(:last-child){margin-right:20px}.lux-flex-layout-gap-20[style*=column]>:not(:last-child){margin-bottom:20px}.lux-flex-layout-gap-30[style*=row]>:not(:last-child){margin-right:30px}.lux-flex-layout-gap-30[style*=column]>:not(:last-child){margin-bottom:30px}.lux-z-index-100{z-index:100}.lux-z-index-500{z-index:500}.lux-z-index-1000{z-index:1000}.lux-uppercase>lux-button .lux-button-label,lux-button.lux-uppercase .lux-button-label{text-transform:uppercase}.lux-bg-color-red{background:#b01211}.lux-bg-color-green{background:#95bc4c}.lux-bg-color-yellow{background:#ebc000}.lux-bg-color-blue{background:#335c85}.lux-bg-color-gray{background:#c8c8c8}.lux-bg-color-orange{background:#ec9c1b}.lux-bg-color-brown{background:#783f04}.lux-font-color-black{color:#000}.lux-font-color-white{color:#fff}.lux-badge-notification.mat-badge-large .mat-badge-content{font-size:15px}.lux-badge-notification.lux-badge-color-default .mat-badge-content{color:#000;background:#fff;border:1px solid rgba(0,0,0,.87)}.lux-side-nav{position:fixed;top:65px;left:-200%;bottom:0;background:#fff;box-shadow:3px 3px 5px 0 rgba(0,0,0,.5)}.lux-side-nav .lux-side-nav-content{overflow-y:auto;min-height:100px}.lux-side-nav .lux-side-nav-content ::ng-deep lux-icon{width:44px;margin-left:-8px!important;margin-right:0!important}.lux-side-nav .lux-side-nav-content ::ng-deep lux-icon i{padding-left:0}.lux-side-nav .lux-side-nav-content ::ng-deep>.lux-side-nav-item-container{padding:0 8px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item-container{position:relative;min-height:40px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item-container .lux-side-nav-item-expandable .lux-side-nav-item-expansion-icon{position:absolute;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:1}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item-container .lux-side-nav-item-button{margin-bottom:2px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item{display:block;width:100%}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item button{width:100%;display:block;height:40px;z-index:3;padding-top:0;padding-bottom:0}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item button .mat-button-wrapper{height:40px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item button .mat-button-wrapper .lux-button-label{margin-left:0}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item button[disabled] .mat-button-wrapper{color:rgba(0,0,0,.38)!important}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item .mat-button-wrapper{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-sub-item .mat-button-wrapper{margin-left:36px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-sub-item .lux-side-nav-sub-item .mat-button-wrapper{margin-left:72px}.lux-side-nav .lux-side-nav-content ::ng-deep .lux-side-nav-item-button{position:relative}.lux-side-nav .lux-side-nav-content lux-link{display:block;min-height:40px;padding:0 8px;margin:10px 0;position:relative}.lux-side-nav .lux-side-nav-content lux-link:after{content:'';left:0;right:0;height:0;position:absolute;margin-top:10px;border-bottom:1px solid rgba(0,0,0,.12)}.lux-side-nav .lux-side-nav-content lux-link ::ng-deep lux-button{display:block}.lux-side-nav .lux-side-nav-content lux-link ::ng-deep lux-button button{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:40px}.lux-side-nav .lux-side-nav-content lux-link ::ng-deep lux-button button span{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.lux-side-nav .lux-side-nav-content lux-link ::ng-deep lux-button button .lux-button-label{margin-left:0}.lux-side-nav .lux-side-nav-footer,.lux-side-nav .lux-side-nav-header{padding:8px;position:relative}.lux-side-nav .lux-side-nav-footer ::ng-deep .lux-side-nav-footer-content,.lux-side-nav .lux-side-nav-header ::ng-deep .lux-side-nav-footer-content{padding-top:16px}.lux-side-nav .lux-side-nav-header{border-bottom:1px solid rgba(0,0,0,.12)}.lux-side-nav-overlay{position:fixed;top:65px;left:0;bottom:0;right:0;opacity:0;background:rgba(0,0,0,.12)}.lux-side-nav-z-index{z-index:10000}.lux-side-nav-overlay-z-index{z-index:9999}"]
        }),
        tslib_1.__metadata("design:paramtypes", [])
    ], LuxSideNavComponent);
    return LuxSideNavComponent;
}());
export { LuxSideNavComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LXNpZGUtbmF2LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BpaGstZ2ZpL2x1eC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsic3JjL2FwcC9tb2R1bGVzL2x1eC1sYXlvdXQvbHV4LWFwcC1oZWFkZXIvbHV4LWFwcC1oZWFkZXItc3ViY29tcG9uZW50cy9sdXgtc2lkZS1uYXYvbHV4LXNpZGUtbmF2LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVMLFNBQVMsRUFDVCxlQUFlLEVBQ2YsVUFBVSxFQUNWLFlBQVksRUFDWixLQUFLLEVBR0wsU0FBUyxFQUNULFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSwwREFBMEQsQ0FBQztBQUVuRyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQVF6RztJQWtDRTtRQWhDUywwQkFBcUIsR0FBVyxlQUFlLENBQUM7UUFhekQsb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFHakMsZUFBVSxHQUFHLFFBQVEsQ0FBQztRQUVkLDJCQUFzQixHQUFtQixFQUFFLENBQUM7SUFjckMsQ0FBQztJQVhoQixzQ0FBUSxHQUFSLFVBQVMsS0FBb0I7UUFDM0IsSUFBSSxLQUFLLENBQUMsR0FBRyxLQUFLLFFBQVEsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ2xELGlFQUFpRTtZQUNqRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDZjtJQUNILENBQUM7SUFFOEIsMENBQVksR0FBWjtRQUM3QixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBSUQsc0NBQVEsR0FBUixjQUFZLENBQUM7SUFFYiw2Q0FBZSxHQUFmO1FBQUEsaUJBSUM7UUFIQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FB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QUUsY0FBYztZQUN4QixrN0NBQTRDO1lBRTVDLFVBQVUsRUFBRSxDQUFDLGdCQUFnQixFQUFFLHVCQUF1QixDQUFDOztTQUN4RCxDQUFDOztPQUNXLG1CQUFtQixDQTZIL0I7SUFBRCwwQkFBQztDQUFBLEFBN0hELElBNkhDO1NBN0hZLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkcmVuLFxuICBFbGVtZW50UmVmLFxuICBIb3N0TGlzdGVuZXIsXG4gIElucHV0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgUXVlcnlMaXN0LFxuICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMdXhTaWRlTmF2SXRlbUNvbXBvbmVudCB9IGZyb20gJy4vbHV4LXNpZGUtbmF2LXN1YmNvbXBvbmVudHMvbHV4LXNpZGUtbmF2LWl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc2lkZU5hdkFuaW1hdGlvbiwgc2lkZU5hdk92ZXJsYXlBbmltYXRpb24gfSBmcm9tICcuL2x1eC1zaWRlLW5hdi1tb2RlbC9sdXgtc2lkZS1uYXYtYW5pbWF0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2x1eC1zaWRlLW5hdicsXG4gIHRlbXBsYXRlVXJsOiAnLi9sdXgtc2lkZS1uYXYuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sdXgtc2lkZS1uYXYuY29tcG9uZW50LnNjc3MnXSxcbiAgYW5pbWF0aW9uczogW3NpZGVOYXZBbmltYXRpb24sIHNpZGVOYXZPdmVybGF5QW5pbWF0aW9uXVxufSlcbmV4cG9ydCBjbGFzcyBMdXhTaWRlTmF2Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBsdXhEYXNoYm9hcmRMaW5rOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGx1eERhc2hib2FyZExpbmtUaXRsZTogc3RyaW5nID0gJ0xVWCBEYXNoYm9hcmQnO1xuICBASW5wdXQoKSBsdXhPcGVuTGlua0JsYW5rOiBib29sZWFuO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oTHV4U2lkZU5hdkl0ZW1Db21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgc2lkZU5hdkl0ZW1zOiBRdWVyeUxpc3Q8THV4U2lkZU5hdkl0ZW1Db21wb25lbnQ+O1xuICBAQ29udGVudENoaWxkcmVuKEx1eFNpZGVOYXZJdGVtQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiBmYWxzZSB9KSBkaXJlY3RTaWRlTmF2SXRlbXM6IFF1ZXJ5TGlzdDxcbiAgICBMdXhTaWRlTmF2SXRlbUNvbXBvbmVudFxuICA+O1xuXG4gIEBWaWV3Q2hpbGQoJ3NpZGVOYXYnLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogdHJ1ZSB9KSBzaWRlTmF2RWw6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ3NpZGVOYXZIZWFkZXInLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogdHJ1ZSB9KSBzaWRlTmF2SGVhZGVyRWw6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ3NpZGVOYXZGb290ZXInLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogdHJ1ZSB9KSBzaWRlTmF2Rm9vdGVyRWw6IEVsZW1lbnRSZWY7XG5cbiAgZm9jdXNFbGVtZW50OiBhbnk7XG4gIHNpZGVOYXZFeHBhbmRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgdmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gIHByaXZhdGUgaXRlbUNsaWNrU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6a2V5dXAnLCBbJyRldmVudCddKVxuICBrZXlFdmVudChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnICYmIHRoaXMuc2lkZU5hdkV4cGFuZGVkKSB7XG4gICAgICAvLyBFc2NhcGUgc29sbCBudXIgZGFzIE1lbsO8IHNjaGxpZcOfZW4sIHdlbm4gZXMgYXVjaCBnZcO2ZmZuZXQgaXN0LlxuICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICB9XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJykgd2luZG93UmVzaXplKCkge1xuICAgIHRoaXMuY2FsY3VsYXRlV2lkdGhIZWlnaHQoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMuc2lkZU5hdkl0ZW1zLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMudXBkYXRlSXRlbUNsaWNrTGlzdGVuZXJzKCkpO1xuICAgIHRoaXMudXBkYXRlSXRlbUNsaWNrTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5jYWxjdWxhdGVXaWR0aEhlaWdodCgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5pdGVtQ2xpY2tTdWJzY3JpcHRpb25zLmZvckVhY2goKHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSk7XG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5zaWRlTmF2RXhwYW5kZWQgPSAhdGhpcy5zaWRlTmF2RXhwYW5kZWQ7XG5cbiAgICBpZiAodGhpcy5zaWRlTmF2RXhwYW5kZWQpIHtcbiAgICAgIHRoaXMudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIHRoaXMuY2FsY3VsYXRlV2lkdGhIZWlnaHQoKTtcblxuICAgICAgLy8gSGllciB3aXJkIHNpY2ggZGVyIE1lbsO8YnV0dG9uIHp3aXNjaGVuZ2VzcGVpY2hlcnRcbiAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIFdlbm4gZGFzIFNpZGVOYXZNZW7DvCBnZXNjaGxvc3NlbiB3aXJkLCB3aXJkIHdpZWRlciBkZXIgU2lkZU5hdk1lbsO8YnV0dG9uIGZva3VzaWVydC5cbiAgICAgICAgaWYgKHRoaXMuZm9jdXNFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdlbm4gZGllIEFuaW1hdGlvbiBiZWVuZGV0IGlzdCwgd2lyZCBkYXMgTWVuw7wgYXVzZ2VibGVuZGV0LCBkYW1pdCBkZXIgRm9rdXMgd2VpdGVyIHp1bSBJbmhhbHQgc3ByaW5ndCB1bmQgbmljaHRcbiAgICogZHVyY2ggZGFzIHZlcnN0ZWNrdGUgTWVuw7wgd2FuZGVydC4gRGFzIGlzdCBhdWNoIGbDvHIgU2NyZWVucmVhZGVyIG7DtnRpZy5cbiAgICovXG4gIHVwZGF0ZVNpZGVOYXZBZnRlckFuaW1hdGlvbklzRmluaXNoZWQoKSB7XG4gICAgdGhpcy52aXNpYmlsaXR5ID0gdGhpcy5zaWRlTmF2RXhwYW5kZWQgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcblxuICAgIC8vIERlbiBGb2t1cyBhdWYgZGVuIGVyc3RlbiBCdXR0b24gc2V0emVuXG4gICAgaWYgKHRoaXMuc2lkZU5hdkV4cGFuZGVkICYmIHRoaXMuc2lkZU5hdkVsICYmIHRoaXMuc2lkZU5hdkVsLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmaXJzdEJ1dHRvbiA9ICg8SFRNTEVsZW1lbnQ+dGhpcy5zaWRlTmF2RWwubmF0aXZlRWxlbWVudCkucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG4gICAgICAgIGlmIChmaXJzdEJ1dHRvbikge1xuICAgICAgICAgIGZpcnN0QnV0dG9uLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5zaWRlTmF2RXhwYW5kZWQgPSB0cnVlO1xuICAgIHRoaXMuY2FsY3VsYXRlV2lkdGhIZWlnaHQoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuc2lkZU5hdkV4cGFuZGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQmVyZWNobmV0IGRpZSBIw7ZoZSBmw7xyIGRlbiBDb250YWluZXIgZGVyIFNpZGVOYXZNZW51SXRlbXMuXG4gICAqIERhZsO8ciB3aXJkIGRpZSBHZXNhbXRow7ZoZSBtaW51cyBkZXIgSMO2aGUgZGVzIEhlYWRlcnMgdW5kIGRlcyBGb290ZXJzIHNvd2llIGVpbmUgZmVzdGUgSMO2aGVcbiAgICogZsO8ciBkZW4gQXBwLUhlYWRlciBnZXJlY2huZXQuXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVdpZHRoSGVpZ2h0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSB0aGlzLnNpZGVOYXZFbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IHRoaXMuc2lkZU5hdkhlYWRlckVsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgY29uc3QgZm9vdGVySGVpZ2h0ID0gdGhpcy5zaWRlTmF2Rm9vdGVyRWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB0aGlzLmhlaWdodCA9IHRvdGFsSGVpZ2h0IC0gaGVhZGVySGVpZ2h0IC0gZm9vdGVySGVpZ2h0O1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc2lkZU5hdkVsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGggKyAyMCAvKiBTaWNoZXJoZWl0c2F1ZnNjaGxhZyAoU2NoYXR0ZW4sIFNjcm9sbGJhciwuLi4pICovO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEjDpG5ndCBzaWNoIGFuIGRpZSBLbGljay1FdmVudHMgZGVyIGVpbnplbG5lbiBTaWRlTmF2SXRlbXMsIHVtIHNvLCBqZSBuYWNoIEVpbnN0ZWxsdW5nIGRlciBJdGVtcyxcbiAgICogZGllIFNpZGVOYXYgenUgc2NobGllw59lbi5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlSXRlbUNsaWNrTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuaXRlbUNsaWNrU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbikgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkpO1xuICAgIHRoaXMuc2lkZU5hdkl0ZW1zLmZvckVhY2goKGl0ZW06IEx1eFNpZGVOYXZJdGVtQ29tcG9uZW50KSA9PiB7XG4gICAgICB0aGlzLml0ZW1DbGlja1N1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgaXRlbS5sdXhDbGlja2VkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0ubHV4Q2xvc2VPbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuIl19