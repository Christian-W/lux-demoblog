import * as tslib_1 from "tslib";
import { AfterViewInit, ChangeDetectorRef, Component, ComponentFactory, ComponentFactoryResolver, ComponentRef, ContentChildren, ElementRef, EventEmitter, Input, Output, QueryList, ViewContainerRef } from '@angular/core';
import { LuxStepperHelperService } from './lux-stepper-helper.service';
import { LuxStepComponent } from './lux-stepper-subcomponents/lux-step.component';
import { LuxIconComponent } from '../../lux-icon/lux-icon/lux-icon.component';
import { LuxUtil } from '../../lux-util/lux-util';
var LuxStepperComponent = /** @class */ (function () {
    function LuxStepperComponent(stepperService, cdr, cfr, elementRef) {
        this.stepperService = stepperService;
        this.cdr = cdr;
        this.cfr = cfr;
        this.elementRef = elementRef;
        this._DEFAULT_PREV_BTN_CONF = {
            label: 'Zurück'
        };
        this._DEFAULT_NEXT_BTN_CONF = {
            label: 'Weiter'
        };
        this._DEFAULT_FIN_BTN_CONF = {
            label: 'Abschließen',
            color: 'primary'
        };
        this.luxFinishButtonClicked = new EventEmitter();
        this.luxStepChanged = new EventEmitter();
        this.luxCurrentStepNumberChange = new EventEmitter();
        this.stepperConfiguration = {
            luxCurrentStepNumber: 0,
            luxShowNavigationButtons: true,
            luxHorizontalStepAnimationActive: true,
            luxEditedIconName: 'fa-pencil'
        };
        // Die Default-Konfiguration präventiv als Startwert setzen
        this.luxPreviousButtonConfig = this._DEFAULT_PREV_BTN_CONF;
        this.luxNextButtonConfig = this._DEFAULT_NEXT_BTN_CONF;
        this.luxFinishButtonConfig = this._DEFAULT_FIN_BTN_CONF;
        // Den Stepper im Helper-Service bekannt machen
        this.stepperService.registerStepper(this);
    }
    LuxStepperComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // Änderungen an den luxSteps sollten auch dem Konfigurationsobjekt bekannt gemacht werden
        this.luxSteps.changes.subscribe(function () {
            _this.stepperConfiguration.luxSteps = _this.luxSteps.toArray();
            _this.cdr.detectChanges();
        });
        // Initial die aktuellen luxSteps in die Konfiguration schreiben
        this.stepperConfiguration.luxSteps = this.luxSteps.toArray();
        this.cdr.detectChanges();
        // Falls initial bereits bestimmt wurde, dass individuelle Icons genutzt werden, diese generieren
        if (this.stepperConfiguration.luxUseCustomIcons) {
            this.generateCustomIcons();
        }
        // Auf next/previous Aufrufe aus dem Service horchen und entsprechend reagieren
        this.stepperService.getObservable(this).subscribe(function (next) {
            // Voraussetzung: Stepper nicht deaktiviert
            if (!_this.stepperConfiguration.luxDisabled) {
                if (next === true) {
                    _this.checkValidation();
                    _this.matStepper.next();
                    _this.matStepper._stepHeader.toArray()[_this.matStepper.selectedIndex].focus();
                }
                else if (next === false) {
                    _this.matStepper.previous();
                    _this.matStepper._stepHeader.toArray()[_this.matStepper.selectedIndex].focus();
                }
            }
        });
        // Änderungen an den Icons jedes einzelnen Steps führt zu Neugenerierung aller individuellen Icons
        // ==> Material erlaubt leider nur alle Icons identisch zu ändern, nicht für jeden Step einzeln, deshalb
        // generieren wir selbst die Icons.
        this.luxSteps.toArray().forEach(function (luxStep) {
            luxStep.getIconChangeObsv().subscribe(function (iconChange) {
                if (_this.stepperConfiguration.luxUseCustomIcons && iconChange) {
                    _this.clearCustomIcons();
                    _this.generateCustomIcons();
                }
            });
        });
        this.setFocusedCSS(this.luxCurrentStepNumber);
        this.cdr.detectChanges();
    };
    /**
     * Wird beim Wechsel des aktuellen Steps (Klick auf Tab oder .next()/.previous() Aufruf) aufgerufen.
     * @param $event
     */
    LuxStepperComponent.prototype.onStepChanged = function ($event) {
        this.luxCurrentStepNumber = $event.selectedIndex;
        this.luxStepChanged.emit($event);
        var matStepHeaders = this.elementRef.nativeElement.querySelectorAll('mat-step-header');
        if (matStepHeaders.item($event.selectedIndex).className.indexOf('lux-step-header-touched') === -1) {
            matStepHeaders.item($event.selectedIndex).className += ' lux-step-header-touched';
        }
        this.setFocusedCSS($event.selectedIndex);
    };
    /**
     * Generiert die individuellen Icons fuer die Steps.
     */
    LuxStepperComponent.prototype.generateCustomIcons = function () {
        var _this = this;
        var factory = this.cfr.resolveComponentFactory(LuxIconComponent);
        var index = 0;
        this.matStepLabels.forEach(function (stepLabel) {
            _this.generateCustomIconForStep(stepLabel, _this.luxSteps.toArray()[index], factory);
            index++;
        });
    };
    /**
     * Entfernt die eigenen Icons fuer die Steps.
     */
    LuxStepperComponent.prototype.clearCustomIcons = function () {
        this.matStepLabels.forEach(function (stepLabel) {
            stepLabel.clear();
        });
    };
    /**
     * Stößt die Validierungsprüfung für den aktuell sichtbaren Step und dessen StepControl (wenn vorhanden) an.
     */
    LuxStepperComponent.prototype.checkValidation = function () {
        var stepControl = this.luxSteps.toArray()[this.stepperConfiguration.luxCurrentStepNumber].luxStepControl;
        if (stepControl) {
            LuxUtil.showValidationErrors(stepControl);
        }
    };
    /**
     * Generiert die Icons fuer einen einzelnen Step
     * @param stepLabel
     * @param luxStep
     * @param factory
     */
    LuxStepperComponent.prototype.generateCustomIconForStep = function (stepLabel, luxStep, factory) {
        if (luxStep && luxStep.luxIconName) {
            // Das edited und normal Icon generieren
            var componentIconEdited = stepLabel.createComponent(factory);
            var instanceIconEdited = componentIconEdited.instance;
            instanceIconEdited.luxIconName = this.luxEditedIconName;
            instanceIconEdited.luxIconSize = '2x';
            instanceIconEdited.luxRounded = true;
            instanceIconEdited.luxMargin = '0 8px 0 0';
            componentIconEdited.location.nativeElement.className += ' lux-stepper-edited-icon';
            var componentIconNormal = stepLabel.createComponent(factory);
            var instanceIconNormal = componentIconNormal.instance;
            instanceIconNormal.luxIconName = luxStep.luxIconName;
            instanceIconNormal.luxIconSize = '2x';
            instanceIconNormal.luxRounded = true;
            instanceIconNormal.luxMargin = '0 8px 0 0';
            componentIconNormal.location.nativeElement.className += ' lux-stepper-normal-icon';
        }
    };
    /**
     * Aktualisiert die aktuellen Icons, entfernt zunächst die individuellen Icons und
     * versucht anschließend diese neu zu generieren (nötig bei Änderungen).
     */
    LuxStepperComponent.prototype.updateIcons = function () {
        if (this.matStepLabels) {
            this.clearCustomIcons();
            if (this.stepperConfiguration.luxUseCustomIcons) {
                this.generateCustomIcons();
            }
        }
    };
    LuxStepperComponent.prototype.setFocusedCSS = function (index) {
        var matStepHeaders = this.elementRef.nativeElement.querySelectorAll('mat-step-header');
        if (matStepHeaders.item(index).className.indexOf('lux-step-header-touched') === -1) {
            matStepHeaders.item(index).className += ' lux-step-header-touched';
        }
    };
    Object.defineProperty(LuxStepperComponent.prototype, "luxCurrentStepNumber", {
        // region ###### Accessoren, die auf die stepperConfiguration verweisen ######
        /**** Getter/Setter luxCurrentStepNumber ****/
        get: function () {
            return this.stepperConfiguration.luxCurrentStepNumber;
        },
        set: function (step) {
            var _this = this;
            if (step !== this.luxCurrentStepNumber) {
                setTimeout(function () {
                    // OutOfBound-Steps abfangen
                    step = step < 0 ? 0 : step;
                    step = step >= _this.luxSteps.length ? _this.luxSteps.length - 1 : step;
                    _this.stepperConfiguration.luxCurrentStepNumber = step;
                    _this.luxCurrentStepNumberChange.emit(_this.stepperConfiguration.luxCurrentStepNumber);
                });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxUseCustomIcons", {
        /**** Getter/Setter luxUseCustomIcons ****/
        get: function () {
            return this.stepperConfiguration.luxUseCustomIcons;
        },
        set: function (use) {
            var _this = this;
            this.stepperConfiguration.luxUseCustomIcons = use;
            setTimeout(function () {
                _this.updateIcons();
            });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxEditedIconName", {
        /**** Getter/Setter luxEditedIconName ****/
        get: function () {
            return this.stepperConfiguration.luxEditedIconName;
        },
        set: function (iconName) {
            this.stepperConfiguration.luxEditedIconName = iconName;
            this.updateIcons();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxVerticalStepper", {
        /**** Getter/Setter luxVerticalStepper ****/
        get: function () {
            return this.stepperConfiguration.luxVerticalStepper;
        },
        set: function (vertical) {
            this.stepperConfiguration.luxVerticalStepper = vertical;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxLinear", {
        /**** Getter/Setter luxLinear ****/
        get: function () {
            return this.stepperConfiguration.luxLinear;
        },
        set: function (linear) {
            this.stepperConfiguration.luxLinear = linear;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxDisabled", {
        /**** Getter/Setter luxDisabled ****/
        get: function () {
            return this.stepperConfiguration.luxDisabled;
        },
        set: function (disabled) {
            this.stepperConfiguration.luxDisabled = disabled;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxShowNavigationButtons", {
        /**** Getter/Setter luxShowNavigationButtons ****/
        get: function () {
            return this.stepperConfiguration.luxShowNavigationButtons;
        },
        set: function (showNavButtons) {
            this.stepperConfiguration.luxShowNavigationButtons = showNavButtons;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxHorizontalStepAnimationActive", {
        /**** Getter/Setter luxHorizontalStepAnimationActive ****/
        get: function () {
            return this.stepperConfiguration.luxHorizontalStepAnimationActive;
        },
        set: function (animationActive) {
            this.stepperConfiguration.luxHorizontalStepAnimationActive = animationActive;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxPreviousButtonConfig", {
        /**** Getter/Setter luxPreviousButtonConfig ****/
        get: function () {
            return this.stepperConfiguration.luxPreviousButtonConfig;
        },
        set: function (config) {
            this.stepperConfiguration.luxPreviousButtonConfig = config ? config : this._DEFAULT_PREV_BTN_CONF;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxNextButtonConfig", {
        /**** Getter/Setter luxNextButtonConfig ****/
        get: function () {
            return this.stepperConfiguration.luxNextButtonConfig;
        },
        set: function (config) {
            this.stepperConfiguration.luxNextButtonConfig = config ? config : this._DEFAULT_NEXT_BTN_CONF;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LuxStepperComponent.prototype, "luxFinishButtonConfig", {
        /**** Getter/Setter luxFinishButtonConfig ****/
        get: function () {
            return this.stepperConfiguration.luxFinishButtonConfig;
        },
        set: function (config) {
            this.stepperConfiguration.luxFinishButtonConfig = config ? config : this._DEFAULT_FIN_BTN_CONF;
        },
        enumerable: true,
        configurable: true
    });
    LuxStepperComponent.ctorParameters = function () { return [
        { type: LuxStepperHelperService },
        { type: ChangeDetectorRef },
        { type: ComponentFactoryResolver },
        { type: ElementRef }
    ]; };
    tslib_1.__decorate([
        ContentChildren(LuxStepComponent),
        tslib_1.__metadata("design:type", QueryList)
    ], LuxStepperComponent.prototype, "luxSteps", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxStepperComponent.prototype, "luxFinishButtonClicked", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxStepperComponent.prototype, "luxStepChanged", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], LuxStepperComponent.prototype, "luxCurrentStepNumberChange", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number),
        tslib_1.__metadata("design:paramtypes", [Number])
    ], LuxStepperComponent.prototype, "luxCurrentStepNumber", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxUseCustomIcons", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], LuxStepperComponent.prototype, "luxEditedIconName", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxVerticalStepper", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxLinear", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxDisabled", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxShowNavigationButtons", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], LuxStepperComponent.prototype, "luxHorizontalStepAnimationActive", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], LuxStepperComponent.prototype, "luxPreviousButtonConfig", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], LuxStepperComponent.prototype, "luxNextButtonConfig", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], LuxStepperComponent.prototype, "luxFinishButtonConfig", null);
    LuxStepperComponent = tslib_1.__decorate([
        Component({
            selector: 'lux-stepper',
            template: "<ng-container [ngSwitch]=\"luxVerticalStepper\">\n  <!-- VERTIKALER STEPPER -->\n  <lux-stepper-vertical\n    [luxStepperConfig]=\"stepperConfiguration\"\n    (luxMatStepperLoaded)=\"matStepper = $event\"\n    (luxMatStepLabelsLoaded)=\"matStepLabels = $event\"\n    (luxStepChanged)=\"onStepChanged($event)\"\n    (luxFinButtonClicked)=\"luxFinishButtonClicked.emit($event)\"\n    (luxPrevButtonClicked)=\"stepperService.previousStep(this)\"\n    (luxNextButtonClicked)=\"stepperService.nextStep(this)\"\n    (luxCheckValidation)=\"checkValidation()\"\n    ngClass.sm=\"lux-stepper-mobile\"\n    ngClass.xs=\"lux-stepper-mobile\"\n    *ngSwitchCase=\"true\"\n  >\n  </lux-stepper-vertical>\n  <!-- HORIZONTALER STEPPER -->\n  <lux-stepper-horizontal\n    [luxStepperConfig]=\"stepperConfiguration\"\n    (luxMatStepperLoaded)=\"matStepper = $event\"\n    (luxMatStepLabelsLoaded)=\"matStepLabels = $event\"\n    (luxStepChanged)=\"onStepChanged($event)\"\n    (luxFinButtonClicked)=\"luxFinishButtonClicked.emit($event)\"\n    (luxPrevButtonClicked)=\"stepperService.previousStep(this)\"\n    (luxNextButtonClicked)=\"stepperService.nextStep(this)\"\n    (luxCheckValidation)=\"checkValidation()\"\n    ngClass.sm=\"lux-stepper-mobile\"\n    ngClass.xs=\"lux-stepper-mobile\"\n    *ngSwitchDefault\n  >\n  </lux-stepper-horizontal>\n</ng-container>\n\n<ng-content select=\"lux-step\"></ng-content>\n<div class=\"lux-stepper-disabled-overlay\" [class.lux-hidden]=\"!luxDisabled\"></div>\n",
            styles: ["@charset \"UTF-8\";lux-side-nav .lux-side-nav-item,lux-side-nav lux-link{box-sizing:border-box}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected,lux-side-nav lux-link.lux-side-nav-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-side-nav .lux-side-nav-item.lux-side-nav-item-selected:after,lux-side-nav lux-link.lux-side-nav-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-side-nav .lux-side-nav-item button .mat-button-focus-overlay,lux-side-nav lux-link button .mat-button-focus-overlay{display:none}lux-side-nav .lux-side-nav-item button:focus,lux-side-nav lux-link button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-side-nav .lux-side-nav-item button:hover,lux-side-nav lux-link button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-list{border:4px solid transparent}lux-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-list lux-list-item:focus{outline-width:0}lux-list lux-list-item:focus mat-card{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}lux-list lux-list-item lux-card.lux-list-item-selected mat-card:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}lux-list lux-list-item lux-card mat-card{box-sizing:border-box}lux-list lux-list-item lux-card mat-card:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-label>*{color:#335c85}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb{position:relative}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .cdk-focused .mat-radio-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-checkbox-inner-container:after,lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .mat-slide-toggle-thumb:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}lux-form-control .lux-form-control:not(.lux-form-control-disabled).lux-focused .lux-form-control-container:after{content:'';display:block;box-sizing:border-box;left:0;right:0;position:absolute;height:2px;border-bottom:2px solid #0073b3}lux-datepicker mat-datepicker-toggle button:focus:after{content:\"\";border:1px solid rgba(112,141,170,.2);background-color:rgba(112,141,170,.2);display:block;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:15px;z-index:1;position:absolute}.lux-datepicker-panel .mat-calendar-header button .mat-button-focus-overlay,lux-datepicker mat-datepicker-toggle .mat-button-focus-overlay{display:none}.lux-datepicker-panel .mat-calendar-header button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-header button:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell:hover>div{background-color:rgba(0,0,0,.2)!important;border-radius:999px}.lux-datepicker-panel .mat-calendar-content td.mat-calendar-body-cell.mat-calendar-body-active>div{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:999px}lux-table tr:hover>td,lux-table tr:hover>th{border-radius:0;background-color:#cfcfcf!important}lux-table th button.mat-sort-header-button:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option{border-left:0;box-sizing:border-box}.lux-select-panel mat-option.mat-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}.lux-select-panel mat-option.mat-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}.lux-select-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-select-panel mat-option.mat-active,.lux-select-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]) .mat-button-focus-overlay{display:none}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]):not(.mat-fab):not(.mat-raised-button):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-button button:not([disabled]).mat-fab:focus,lux-button button:not([disabled]).mat-raised-button:focus{background-color:rgba(112,141,170,.2)!important}lux-button button:not([disabled]).mat-fab:focus.mat-accent,lux-button button:not([disabled]).mat-raised-button:focus.mat-accent{background-color:#b6d184!important}lux-button button:not([disabled]).mat-fab:focus.mat-warn,lux-button button:not([disabled]).mat-raised-button:focus.mat-warn{background-color:#ea2524!important}lux-button button:not([disabled]).mat-fab:focus.mat-primary,lux-button button:not([disabled]).mat-raised-button:focus.mat-primary{background-color:#4b82ba!important}.lux-autocomplete-panel mat-option{border-left:0;box-sizing:border-box}.lux-autocomplete-panel mat-option:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-autocomplete-panel mat-option.mat-active,.lux-autocomplete-panel mat-option:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-tabs mat-ink-bar{background-color:#0073b3!important}lux-tabs .mat-tab-label:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:hover,lux-stepper mat-step-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-panel mat-expansion-panel-header:focus,lux-stepper mat-step-header:focus,lux-stepper mat-step-header[aria-selected=true],lux-tile mat-card:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}lux-master-detail lux-master-header .lux-master-header-collapse button.lux-button:not(.mat-fab):not(.mat-raised-button):focus{background-color:rgba(0,0,0,.2)!important}lux-file-list .lux-file-list{border:4px solid transparent}lux-file-list .lux-file-list:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list .lux-file-list-entry{border:4px solid transparent}lux-file-list .lux-file-list .lux-file-list-entry:focus{outline-width:0;border:4px solid rgba(112,141,170,.2)!important}lux-file-list .lux-file-list mat-card{margin:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}.lux-menu-panel .lux-menu-item:not([disabled=true]):hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}lux-dialog-structure lux-dialog-content:focus,lux-dialog-structure lux-dialog-title:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item,example-root .example-base-components-list mat-expansion-panel-header{box-sizing:border-box}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected{background-color:rgba(112,141,170,.2)!important;position:relative;border-radius:4px}example-root .example-base-components-list .example-component-list-item.example-component-list-item-selected:after,example-root .example-base-components-list mat-expansion-panel-header.example-component-list-item-selected:after{content:'';left:0;width:6px;top:0;bottom:0;position:absolute;border-left:6px solid #0073b3;border-radius:4px 0 0 4px}example-root .example-base-components-list .example-component-list-item:focus,example-root .example-base-components-list mat-expansion-panel-header:focus{outline-width:0!important;outline-style:unset;background-color:rgba(112,141,170,.2)!important;border-radius:4px}example-root .example-base-components-list .example-component-list-item:hover,example-root .example-base-components-list mat-expansion-panel-header:hover{background-color:rgba(0,0,0,.2)!important;border-radius:4px}.lux-app-container,body,html{height:100%}.lux-app-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}body{-webkit-overflow-scrolling:touch}div{font-family:Roboto,Helvetica Neue,sans-serif}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing.lux-file-preview-backdrop{background:#000;opacity:.8!important}lux-card.lux-card-grow{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:400px;min-width:0}lux-card.lux-card-grow mat-card,lux-card.lux-card-grow mat-card-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0}.lux-crop{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lux-label{color:rgba(0,0,0,.54);font-size:75%}.lux-hint{color:rgba(0,0,0,.6);font-size:12px}.lux-display-none{display:none}.lux-hidden{visibility:hidden}.lux-nowrap{white-space:nowrap}.lux-cursor{cursor:pointer}.lux-block-pointer-events{pointer-events:none}.lux-vertical-align-baseline{vertical-align:baseline!important}.lux-black-semi-transparent{color:rgba(0,0,0,.87)}.lux-semi-transparent{opacity:.6}.lux-overflow-y-hidden{overflow-y:hidden}.lux-overflow-y-auto{overflow-y:auto}.lux-overflow-wrap-break-word{overflow-wrap:break-word}.lux-bold{font-weight:700!important}.lux-uppercase{text-transform:uppercase!important}.lux-lowercase{text-transform:lowercase!important}.lux-hyphenate{overflow-wrap:break-word;word-wrap:break-word;word-break:normal;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow-x:auto}.lux-p-footer,.lux-p-header{padding:8px}.lux-snackbar{top:68px;right:8px;position:absolute;margin:0!important;min-width:unset!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-snack-bar-handset .lux-snackbar{left:8px;width:auto!important}.lux-mt-0{margin-top:0}.lux-pt-0{padding-top:0}.lux-mt-1{margin-top:2px}.lux-pt-1{padding-top:2px}.lux-mt-2{margin-top:4px}.lux-pt-2{padding-top:4px}.lux-mt-3{margin-top:8px}.lux-pt-3{padding-top:8px}.lux-mt-4{margin-top:16px}.lux-pt-4{padding-top:16px}.lux-mb-0{margin-bottom:0}.lux-pb-0{padding-bottom:0}.lux-mb-1{margin-bottom:2px}.lux-pb-1{padding-bottom:2px}.lux-mb-2{margin-bottom:4px}.lux-pb-2{padding-bottom:4px}.lux-mb-3{margin-bottom:8px}.lux-pb-3{padding-bottom:8px}.lux-mb-4{margin-bottom:16px}.lux-pb-4{padding-bottom:16px}.lux-ml-0{margin-left:0}.lux-pl-0{padding-left:0}.lux-ml-1{margin-left:2px}.lux-pl-1{padding-left:2px}.lux-ml-2{margin-left:4px}.lux-pl-2{padding-left:4px}.lux-ml-3{margin-left:8px}.lux-pl-3{padding-left:8px}.lux-ml-4{margin-left:16px}.lux-pl-4{padding-left:16px}.lux-m-0{margin:0}.lux-mr-0{margin-right:0}.lux-p-0{padding:0}.lux-pr-0{padding-right:0}.lux-m-1{margin:2px}.lux-mr-1{margin-right:2px}.lux-p-1{padding:2px}.lux-pr-1{padding-right:2px}.lux-m-2{margin:4px}.lux-mr-2{margin-right:4px}.lux-p-2{padding:4px}.lux-pr-2{padding-right:4px}.lux-m-3{margin:8px}.lux-mr-3{margin-right:8px}.lux-p-3{padding:8px}.lux-pr-3{padding-right:8px}.lux-m-4{margin:16px}.lux-mr-4{margin-right:16px}.lux-p-4{padding:16px}.lux-pr-4{padding-right:16px}.lux-flex-layout-gap-10[style*=row]>:not(:last-child){margin-right:10px}.lux-flex-layout-gap-10[style*=column]>:not(:last-child){margin-bottom:10px}.lux-flex-layout-gap-20[style*=row]>:not(:last-child){margin-right:20px}.lux-flex-layout-gap-20[style*=column]>:not(:last-child){margin-bottom:20px}.lux-flex-layout-gap-30[style*=row]>:not(:last-child){margin-right:30px}.lux-flex-layout-gap-30[style*=column]>:not(:last-child){margin-bottom:30px}.lux-z-index-100{z-index:100}.lux-z-index-500{z-index:500}.lux-z-index-1000{z-index:1000}.lux-uppercase>lux-button .lux-button-label,lux-button.lux-uppercase .lux-button-label{text-transform:uppercase}.lux-bg-color-red{background:#b01211}.lux-bg-color-green{background:#95bc4c}.lux-bg-color-yellow{background:#ebc000}.lux-bg-color-blue{background:#335c85}.lux-bg-color-gray{background:#c8c8c8}.lux-bg-color-orange{background:#ec9c1b}.lux-bg-color-brown{background:#783f04}.lux-font-color-black{color:#000}.lux-font-color-white{color:#fff}.lux-badge-notification.mat-badge-large .mat-badge-content{font-size:15px}.lux-badge-notification.lux-badge-color-default .mat-badge-content{color:#000;background:#fff;border:1px solid rgba(0,0,0,.87)}:host{position:relative;display:block}:host ::ng-deep .lux-stepper-content-section,:host ::ng-deep .mat-horizontal-stepper-content[aria-expanded=true],:host ::ng-deep .mat-vertical-stepper-content{padding:8px}:host ::ng-deep .mat-horizontal-stepper-header-container{padding:8px 8px 0}:host ::ng-deep .mat-vertical-stepper-header{margin:8px 8px 0}:host ::ng-deep mat-step-header .mat-step-icon,:host ::ng-deep mat-step-header .mat-step-icon-not-touched{width:40px;height:40px;font-size:2em;box-sizing:border-box}:host ::ng-deep mat-step-header .mat-step-icon .mat-icon{font-size:32px;width:32px;height:32px}:host ::ng-deep mat-step-header .mat-step-label{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-weight:400}:host ::ng-deep mat-step-header lux-step-header{color:rgba(0,0,0,.38)!important}:host ::ng-deep mat-step-header .mat-step-icon{background:rgba(0,0,0,.38);color:#fff}:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit+.mat-step-label lux-step-header,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] lux-step-header{color:rgba(0,0,0,.87)!important}:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit+.mat-step-label .lux-stepper-edited-icon i,:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit+.mat-step-label .lux-stepper-edited-icon mat-icon,:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit+.mat-step-label .lux-stepper-normal-icon i,:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit+.mat-step-label .lux-stepper-normal-icon mat-icon,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] .lux-stepper-edited-icon i,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] .lux-stepper-edited-icon mat-icon,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] .lux-stepper-normal-icon i,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] .lux-stepper-normal-icon mat-icon{background-color:#335c85}:host ::ng-deep mat-step-header.lux-step-header-touched .mat-step-icon-state-edit,:host ::ng-deep mat-step-header.lux-step-header-touched[aria-selected=true] .mat-step-icon-state-number{background:#335c85;color:#fff}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header .mat-step-icon,:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header .mat-step-icon-not-touched{display:none}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon{margin-right:8px!important}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon>.lux-material-icon,:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon>i{font-size:25px;width:32px;height:32px;text-align:center}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon.lux-stepper-edited-icon{display:none}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon.lux-stepper-normal-icon{display:block}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon>i,:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon>mat-icon{background-color:rgba(0,0,0,.38);color:#fff}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header lux-icon>i:before{padding-top:2px;display:block}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header .mat-step-icon-state-edit+.mat-step-label lux-icon.lux-stepper-edited-icon{display:block}:host ::ng-deep .lux-ignore-mat-step-icons ::ng-deep mat-step-header .mat-step-icon-state-edit+.mat-step-label lux-icon.lux-stepper-normal-icon{display:none}:host ::ng-deep .mat-step-optional{position:absolute;bottom:15px;right:0;font-style:italic}:host ::ng-deep lux-step-content>lux-card>mat-card{margin:0!important}.lux-stepper-disabled-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.04)}.lux-stepper-mobile ::ng-deep .lux-stepper-content-section,.lux-stepper-mobile ::ng-deep .mat-horizontal-stepper-content[aria-expanded=true],.lux-stepper-mobile ::ng-deep .mat-vertical-stepper-content{padding:4px}.lux-stepper-mobile ::ng-deep .mat-vertical-stepper-content{padding-left:8px}.lux-stepper-mobile ::ng-deep .mat-horizontal-stepper-header-container{padding:4px 4px 0}.lux-stepper-mobile ::ng-deep .mat-vertical-stepper-header{margin:4px 4px 0}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper lux-step-header{display:none}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper .mat-stepper-horizontal-line{margin:0;min-width:16px}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper mat-step-header{padding:0 8px}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper.lux-ignore-mat-step-icons .mat-step-label{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:40px}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper.lux-ignore-mat-step-icons .mat-step-label .lux-stepper-edited-icon,.lux-stepper-mobile ::ng-deep mat-horizontal-stepper.lux-ignore-mat-step-icons .mat-step-label .lux-stepper-normal-icon{margin:0!important}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper:not(.lux-ignore-mat-step-icons) .mat-step-label{display:none}.lux-stepper-mobile ::ng-deep mat-horizontal-stepper:not(.lux-ignore-mat-step-icons) .mat-step-icon{margin:0!important}"]
        }),
        tslib_1.__metadata("design:paramtypes", [LuxStepperHelperService,
            ChangeDetectorRef,
            ComponentFactoryResolver,
            ElementRef])
    ], LuxStepperComponent);
    return LuxStepperComponent;
}());
export { LuxStepperComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHV4LXN0ZXBwZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGloay1nZmkvbHV4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJzcmMvYXBwL21vZHVsZXMvbHV4LWxheW91dC9sdXgtc3RlcHBlci9sdXgtc3RlcHBlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTCxhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxnQkFBZ0IsRUFDaEIsd0JBQXdCLEVBQ3hCLFlBQVksRUFDWixlQUFlLEVBQ2YsVUFBVSxFQUNWLFlBQVksRUFDWixLQUFLLEVBQ0wsTUFBTSxFQUNOLFNBQVMsRUFDVCxnQkFBZ0IsRUFDakIsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDdkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFHbEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDOUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBUWxEO0lBNEJFLDZCQUNTLGNBQXVDLEVBQ3RDLEdBQXNCLEVBQ3RCLEdBQTZCLEVBQzdCLFVBQXNCO1FBSHZCLG1CQUFjLEdBQWQsY0FBYyxDQUF5QjtRQUN0QyxRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQUN0QixRQUFHLEdBQUgsR0FBRyxDQUEwQjtRQUM3QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBL0JmLDJCQUFzQixHQUE0QjtZQUNqRSxLQUFLLEVBQUUsUUFBUTtTQUNoQixDQUFDO1FBQ2UsMkJBQXNCLEdBQTRCO1lBQ2pFLEtBQUssRUFBRSxRQUFRO1NBQ2hCLENBQUM7UUFDZSwwQkFBcUIsR0FBNEI7WUFDaEUsS0FBSyxFQUFFLGFBQWE7WUFDcEIsS0FBSyxFQUFFLFNBQVM7U0FDakIsQ0FBQztRQUlRLDJCQUFzQixHQUFz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LEVBQUU7OztnRUFLUDtJQU9RO1FBQVIsS0FBSyxFQUFFOzs7Z0VBR1A7SUFPUTtRQUFSLEtBQUssRUFBRTs7O2lFQUVQO0lBT1E7UUFBUixLQUFLLEVBQUU7Ozt3REFFUDtJQU9RO1FBQVIsS0FBSyxFQUFFOzs7MERBRVA7SUFPUTtRQUFSLEtBQUssRUFBRTs7O3VFQUVQO0lBT1E7UUFBUixLQUFLLEVBQUU7OzsrRUFFUDtJQU9RO1FBQVIsS0FBSyxFQUFFOzs7c0VBRVA7SUFPUTtRQUFSLEtBQUssRUFBRTs7O2tFQUVQO0lBT1E7UUFBUixLQUFLLEVBQUU7OztvRUFFUDtJQTNTVSxtQkFBbUI7UUFML0IsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGFBQWE7WUFDdkIsNDlDQUEyQzs7U0FFNUMsQ0FBQztpREE4QnlCLHVCQUF1QjtZQUNqQyxpQkFBaUI7WUFDakIsd0JBQXdCO1lBQ2pCLFVBQVU7T0FoQ3JCLG1CQUFtQixDQThTL0I7SUFBRCwwQkFBQztDQUFBLEFBOVNELElBOFNDO1NBOVNZLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIENvbXBvbmVudEZhY3RvcnksXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgQ29tcG9uZW50UmVmLFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgUXVlcnlMaXN0LFxuICBWaWV3Q29udGFpbmVyUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSUx1eFN0ZXBwZXJCdXR0b25Db25maWcgfSBmcm9tICcuL2x1eC1zdGVwcGVyLW1vZGVsL2x1eC1zdGVwcGVyLWJ1dHRvbi1jb25maWcuaW50ZXJmYWNlJztcbmltcG9ydCB7IEx1eFN0ZXBwZXJIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi9sdXgtc3RlcHBlci1oZWxwZXIuc2VydmljZSc7XG5pbXBvcnQgeyBMdXhTdGVwQ29tcG9uZW50IH0gZnJvbSAnLi9sdXgtc3RlcHBlci1zdWJjb21wb25lbnRzL2x1eC1zdGVwLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBJTHV4U3RlcHBlckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuL2x1eC1zdGVwcGVyLW1vZGVsL2x1eC1zdGVwcGVyLWNvbmZpZ3VyYXRpb24uaW50ZXJmYWNlJztcbmltcG9ydCB7IE1hdEhvcml6b250YWxTdGVwcGVyLCBNYXRWZXJ0aWNhbFN0ZXBwZXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBMdXhJY29uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbHV4LWljb24vbHV4LWljb24vbHV4LWljb24uY29tcG9uZW50JztcbmltcG9ydCB7IEx1eFV0aWwgfSBmcm9tICcuLi8uLi9sdXgtdXRpbC9sdXgtdXRpbCc7XG5pbXBvcnQgeyBTdGVwcGVyU2VsZWN0aW9uRXZlbnQgfSBmcm9tICdAYW5ndWxhci9jZGsvc3RlcHBlcic7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2x1eC1zdGVwcGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2x1eC1zdGVwcGVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbHV4LXN0ZXBwZXIuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMdXhTdGVwcGVyQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX0RFRkFVTFRfUFJFVl9CVE5fQ09ORjogSUx1eFN0ZXBwZXJCdXR0b25Db25maWcgPSB7XG4gICAgbGFiZWw6ICdadXLDvGNrJ1xuICB9O1xuICBwcml2YXRlIHJlYWRvbmx5IF9ERUZBVUxUX05FWFRfQlROX0NPTkY6IElMdXhTdGVwcGVyQnV0dG9uQ29uZmlnID0ge1xuICAgIGxhYmVsOiAnV2VpdGVyJ1xuICB9O1xuICBwcml2YXRlIHJlYWRvbmx5IF9ERUZBVUxUX0ZJTl9CVE5fQ09ORjogSUx1eFN0ZXBwZXJCdXR0b25Db25maWcgPSB7XG4gICAgbGFiZWw6ICdBYnNjaGxpZcOfZW4nLFxuICAgIGNvbG9yOiAncHJpbWFyeSdcbiAgfTtcblxuICBAQ29udGVudENoaWxkcmVuKEx1eFN0ZXBDb21wb25lbnQpIGx1eFN0ZXBzOiBRdWVyeUxpc3Q8THV4U3RlcENvbXBvbmVudD47XG5cbiAgQE91dHB1dCgpIGx1eEZpbmlzaEJ1dHRvbkNsaWNrZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgbHV4U3RlcENoYW5nZWQ6IEV2ZW50RW1pdHRlcjxTdGVwcGVyU2VsZWN0aW9uRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxTdGVwcGVyU2VsZWN0aW9uRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBsdXhDdXJyZW50U3RlcE51bWJlckNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcblxuICBtYXRTdGVwcGVyOiBNYXRIb3Jpem9udGFsU3RlcHBlciB8IE1hdFZlcnRpY2FsU3RlcHBlcjtcbiAgbWF0U3RlcExhYmVsczogVmlld0NvbnRhaW5lclJlZltdO1xuXG4gIHN0ZXBwZXJDb25maWd1cmF0aW9uOiBJTHV4U3RlcHBlckNvbmZpZ3VyYXRpb24gPSB7XG4gICAgbHV4Q3VycmVudFN0ZXBOdW1iZXI6IDAsXG4gICAgbHV4U2hvd05hdmlnYXRpb25CdXR0b25zOiB0cnVlLFxuICAgIGx1eEhvcml6b250YWxTdGVwQW5pbWF0aW9uQWN0aXZlOiB0cnVlLFxuICAgIGx1eEVkaXRlZEljb25OYW1lOiAnZmEtcGVuY2lsJ1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBzdGVwcGVyU2VydmljZTogTHV4U3RlcHBlckhlbHBlclNlcnZpY2UsXG4gICAgcHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIHByaXZhdGUgY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmXG4gICkge1xuICAgIC8vIERpZSBEZWZhdWx0LUtvbmZpZ3VyYXRpb24gcHLDpHZlbnRpdiBhbHMgU3RhcnR3ZXJ0IHNldHplblxuICAgIHRoaXMubHV4UHJldmlvdXNCdXR0b25Db25maWcgPSB0aGlzLl9ERUZBVUxUX1BSRVZfQlROX0NPTkY7XG4gICAgdGhpcy5sdXhOZXh0QnV0dG9uQ29uZmlnID0gdGhpcy5fREVGQVVMVF9ORVhUX0JUTl9DT05GO1xuICAgIHRoaXMubHV4RmluaXNoQnV0dG9uQ29uZmlnID0gdGhpcy5fREVGQVVMVF9GSU5fQlROX0NPTkY7XG4gICAgLy8gRGVuIFN0ZXBwZXIgaW0gSGVscGVyLVNlcnZpY2UgYmVrYW5udCBtYWNoZW5cbiAgICB0aGlzLnN0ZXBwZXJTZXJ2aWNlLnJlZ2lzdGVyU3RlcHBlcih0aGlzKTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAvLyDDhG5kZXJ1bmdlbiBhbiBkZW4gbHV4U3RlcHMgc29sbHRlbiBhdWNoIGRlbSBLb25maWd1cmF0aW9uc29iamVrdCBiZWthbm50IGdlbWFjaHQgd2VyZGVuXG4gICAgdGhpcy5sdXhTdGVwcy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eFN0ZXBzID0gdGhpcy5sdXhTdGVwcy50b0FycmF5KCk7XG4gICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfSk7XG4gICAgLy8gSW5pdGlhbCBkaWUgYWt0dWVsbGVuIGx1eFN0ZXBzIGluIGRpZSBLb25maWd1cmF0aW9uIHNjaHJlaWJlblxuICAgIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4U3RlcHMgPSB0aGlzLmx1eFN0ZXBzLnRvQXJyYXkoKTtcbiAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICAvLyBGYWxscyBpbml0aWFsIGJlcmVpdHMgYmVzdGltbXQgd3VyZGUsIGRhc3MgaW5kaXZpZHVlbGxlIEljb25zIGdlbnV0enQgd2VyZGVuLCBkaWVzZSBnZW5lcmllcmVuXG4gICAgaWYgKHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4VXNlQ3VzdG9tSWNvbnMpIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVDdXN0b21JY29ucygpO1xuICAgIH1cblxuICAgIC8vIEF1ZiBuZXh0L3ByZXZpb3VzIEF1ZnJ1ZmUgYXVzIGRlbSBTZXJ2aWNlIGhvcmNoZW4gdW5kIGVudHNwcmVjaGVuZCByZWFnaWVyZW5cbiAgICB0aGlzLnN0ZXBwZXJTZXJ2aWNlLmdldE9ic2VydmFibGUodGhpcykuc3Vic2NyaWJlKChuZXh0OiBib29sZWFuKSA9PiB7XG4gICAgICAvLyBWb3JhdXNzZXR6dW5nOiBTdGVwcGVyIG5pY2h0IGRlYWt0aXZpZXJ0XG4gICAgICBpZiAoIXRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4RGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKG5leHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmNoZWNrVmFsaWRhdGlvbigpO1xuICAgICAgICAgIHRoaXMubWF0U3RlcHBlci5uZXh0KCk7XG4gICAgICAgICAgdGhpcy5tYXRTdGVwcGVyLl9zdGVwSGVhZGVyLnRvQXJyYXkoKVt0aGlzLm1hdFN0ZXBwZXIuc2VsZWN0ZWRJbmRleF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMubWF0U3RlcHBlci5wcmV2aW91cygpO1xuICAgICAgICAgIHRoaXMubWF0U3RlcHBlci5fc3RlcEhlYWRlci50b0FycmF5KClbdGhpcy5tYXRTdGVwcGVyLnNlbGVjdGVkSW5kZXhdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIMOEbmRlcnVuZ2VuIGFuIGRlbiBJY29ucyBqZWRlcyBlaW56ZWxuZW4gU3RlcHMgZsO8aHJ0IHp1IE5ldWdlbmVyaWVydW5nIGFsbGVyIGluZGl2aWR1ZWxsZW4gSWNvbnNcbiAgICAvLyA9PT4gTWF0ZXJpYWwgZXJsYXVidCBsZWlkZXIgbnVyIGFsbGUgSWNvbnMgaWRlbnRpc2NoIHp1IMOkbmRlcm4sIG5pY2h0IGbDvHIgamVkZW4gU3RlcCBlaW56ZWxuLCBkZXNoYWxiXG4gICAgLy8gZ2VuZXJpZXJlbiB3aXIgc2VsYnN0IGRpZSBJY29ucy5cbiAgICB0aGlzLmx1eFN0ZXBzLnRvQXJyYXkoKS5mb3JFYWNoKChsdXhTdGVwOiBMdXhTdGVwQ29tcG9uZW50KSA9PiB7XG4gICAgICBsdXhTdGVwLmdldEljb25DaGFuZ2VPYnN2KCkuc3Vic2NyaWJlKChpY29uQ2hhbmdlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eFVzZUN1c3RvbUljb25zICYmIGljb25DaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLmNsZWFyQ3VzdG9tSWNvbnMoKTtcbiAgICAgICAgICB0aGlzLmdlbmVyYXRlQ3VzdG9tSWNvbnMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldEZvY3VzZWRDU1ModGhpcy5sdXhDdXJyZW50U3RlcE51bWJlcik7XG4gICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpcmQgYmVpbSBXZWNoc2VsIGRlcyBha3R1ZWxsZW4gU3RlcHMgKEtsaWNrIGF1ZiBUYWIgb2RlciAubmV4dCgpLy5wcmV2aW91cygpIEF1ZnJ1ZikgYXVmZ2VydWZlbi5cbiAgICogQHBhcmFtICRldmVudFxuICAgKi9cbiAgb25TdGVwQ2hhbmdlZCgkZXZlbnQ6IFN0ZXBwZXJTZWxlY3Rpb25FdmVudCkge1xuICAgIHRoaXMubHV4Q3VycmVudFN0ZXBOdW1iZXIgPSAkZXZlbnQuc2VsZWN0ZWRJbmRleDtcbiAgICB0aGlzLmx1eFN0ZXBDaGFuZ2VkLmVtaXQoJGV2ZW50KTtcblxuICAgIGNvbnN0IG1hdFN0ZXBIZWFkZXJzOiBOb2RlTGlzdE9mPGFueT4gPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdtYXQtc3RlcC1oZWFkZXInKTtcbiAgICBpZiAobWF0U3RlcEhlYWRlcnMuaXRlbSgkZXZlbnQuc2VsZWN0ZWRJbmRleCkuY2xhc3NOYW1lLmluZGV4T2YoJ2x1eC1zdGVwLWhlYWRlci10b3VjaGVkJykgPT09IC0xKSB7XG4gICAgICBtYXRTdGVwSGVhZGVycy5pdGVtKCRldmVudC5zZWxlY3RlZEluZGV4KS5jbGFzc05hbWUgKz0gJyBsdXgtc3RlcC1oZWFkZXItdG91Y2hlZCc7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRGb2N1c2VkQ1NTKCRldmVudC5zZWxlY3RlZEluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmllcnQgZGllIGluZGl2aWR1ZWxsZW4gSWNvbnMgZnVlciBkaWUgU3RlcHMuXG4gICAqL1xuICBnZW5lcmF0ZUN1c3RvbUljb25zKCkge1xuICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLmNmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShMdXhJY29uQ29tcG9uZW50KTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHRoaXMubWF0U3RlcExhYmVscy5mb3JFYWNoKChzdGVwTGFiZWw6IFZpZXdDb250YWluZXJSZWYpID0+IHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVDdXN0b21JY29uRm9yU3RlcChzdGVwTGFiZWwsIHRoaXMubHV4U3RlcHMudG9BcnJheSgpW2luZGV4XSwgZmFjdG9yeSk7XG4gICAgICBpbmRleCsrO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudGZlcm50IGRpZSBlaWdlbmVuIEljb25zIGZ1ZXIgZGllIFN0ZXBzLlxuICAgKi9cbiAgY2xlYXJDdXN0b21JY29ucygpIHtcbiAgICB0aGlzLm1hdFN0ZXBMYWJlbHMuZm9yRWFjaCgoc3RlcExhYmVsOiBWaWV3Q29udGFpbmVyUmVmKSA9PiB7XG4gICAgICBzdGVwTGFiZWwuY2xlYXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdMO2w590IGRpZSBWYWxpZGllcnVuZ3NwcsO8ZnVuZyBmw7xyIGRlbiBha3R1ZWxsIHNpY2h0YmFyZW4gU3RlcCB1bmQgZGVzc2VuIFN0ZXBDb250cm9sICh3ZW5uIHZvcmhhbmRlbikgYW4uXG4gICAqL1xuICBjaGVja1ZhbGlkYXRpb24oKSB7XG4gICAgY29uc3Qgc3RlcENvbnRyb2wgPSB0aGlzLmx1eFN0ZXBzLnRvQXJyYXkoKVt0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eEN1cnJlbnRTdGVwTnVtYmVyXS5sdXhTdGVwQ29udHJvbDtcbiAgICBpZiAoc3RlcENvbnRyb2wpIHtcbiAgICAgIEx1eFV0aWwuc2hvd1ZhbGlkYXRpb25FcnJvcnMoc3RlcENvbnRyb2wpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmllcnQgZGllIEljb25zIGZ1ZXIgZWluZW4gZWluemVsbmVuIFN0ZXBcbiAgICogQHBhcmFtIHN0ZXBMYWJlbFxuICAgKiBAcGFyYW0gbHV4U3RlcFxuICAgKiBAcGFyYW0gZmFjdG9yeVxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUN1c3RvbUljb25Gb3JTdGVwKFxuICAgIHN0ZXBMYWJlbDogVmlld0NvbnRhaW5lclJlZixcbiAgICBsdXhTdGVwOiBMdXhTdGVwQ29tcG9uZW50LFxuICAgIGZhY3Rvcnk6IENvbXBvbmVudEZhY3Rvcnk8THV4SWNvbkNvbXBvbmVudD5cbiAgKSB7XG4gICAgaWYgKGx1eFN0ZXAgJiYgbHV4U3RlcC5sdXhJY29uTmFtZSkge1xuICAgICAgLy8gRGFzIGVkaXRlZCB1bmQgbm9ybWFsIEljb24gZ2VuZXJpZXJlblxuICAgICAgY29uc3QgY29tcG9uZW50SWNvbkVkaXRlZDogQ29tcG9uZW50UmVmPEx1eEljb25Db21wb25lbnQ+ID0gc3RlcExhYmVsLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcbiAgICAgIGNvbnN0IGluc3RhbmNlSWNvbkVkaXRlZDogTHV4SWNvbkNvbXBvbmVudCA9IGNvbXBvbmVudEljb25FZGl0ZWQuaW5zdGFuY2U7XG5cbiAgICAgIGluc3RhbmNlSWNvbkVkaXRlZC5sdXhJY29uTmFtZSA9IHRoaXMubHV4RWRpdGVkSWNvbk5hbWU7XG4gICAgICBpbnN0YW5jZUljb25FZGl0ZWQubHV4SWNvblNpemUgPSAnMngnO1xuICAgICAgaW5zdGFuY2VJY29uRWRpdGVkLmx1eFJvdW5kZWQgPSB0cnVlO1xuICAgICAgaW5zdGFuY2VJY29uRWRpdGVkLmx1eE1hcmdpbiA9ICcwIDhweCAwIDAnO1xuICAgICAgY29tcG9uZW50SWNvbkVkaXRlZC5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LmNsYXNzTmFtZSArPSAnIGx1eC1zdGVwcGVyLWVkaXRlZC1pY29uJztcblxuICAgICAgY29uc3QgY29tcG9uZW50SWNvbk5vcm1hbDogQ29tcG9uZW50UmVmPEx1eEljb25Db21wb25lbnQ+ID0gc3RlcExhYmVsLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcbiAgICAgIGNvbnN0IGluc3RhbmNlSWNvbk5vcm1hbDogTHV4SWNvbkNvbXBvbmVudCA9IGNvbXBvbmVudEljb25Ob3JtYWwuaW5zdGFuY2U7XG4gICAgICBpbnN0YW5jZUljb25Ob3JtYWwubHV4SWNvbk5hbWUgPSBsdXhTdGVwLmx1eEljb25OYW1lO1xuICAgICAgaW5zdGFuY2VJY29uTm9ybWFsLmx1eEljb25TaXplID0gJzJ4JztcbiAgICAgIGluc3RhbmNlSWNvbk5vcm1hbC5sdXhSb3VuZGVkID0gdHJ1ZTtcbiAgICAgIGluc3RhbmNlSWNvbk5vcm1hbC5sdXhNYXJnaW4gPSAnMCA4cHggMCAwJztcbiAgICAgIGNvbXBvbmVudEljb25Ob3JtYWwubG9jYXRpb24ubmF0aXZlRWxlbWVudC5jbGFzc05hbWUgKz0gJyBsdXgtc3RlcHBlci1ub3JtYWwtaWNvbic7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFrdHVhbGlzaWVydCBkaWUgYWt0dWVsbGVuIEljb25zLCBlbnRmZXJudCB6dW7DpGNoc3QgZGllIGluZGl2aWR1ZWxsZW4gSWNvbnMgdW5kXG4gICAqIHZlcnN1Y2h0IGFuc2NobGllw59lbmQgZGllc2UgbmV1IHp1IGdlbmVyaWVyZW4gKG7DtnRpZyBiZWkgw4RuZGVydW5nZW4pLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVJY29ucygpIHtcbiAgICBpZiAodGhpcy5tYXRTdGVwTGFiZWxzKSB7XG4gICAgICB0aGlzLmNsZWFyQ3VzdG9tSWNvbnMoKTtcbiAgICAgIGlmICh0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eFVzZUN1c3RvbUljb25zKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDdXN0b21JY29ucygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0Rm9jdXNlZENTUyhpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbWF0U3RlcEhlYWRlcnM6IE5vZGVMaXN0T2Y8YW55PiA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ21hdC1zdGVwLWhlYWRlcicpO1xuICAgIGlmIChtYXRTdGVwSGVhZGVycy5pdGVtKGluZGV4KS5jbGFzc05hbWUuaW5kZXhPZignbHV4LXN0ZXAtaGVhZGVyLXRvdWNoZWQnKSA9PT0gLTEpIHtcbiAgICAgIG1hdFN0ZXBIZWFkZXJzLml0ZW0oaW5kZXgpLmNsYXNzTmFtZSArPSAnIGx1eC1zdGVwLWhlYWRlci10b3VjaGVkJztcbiAgICB9XG4gIH1cblxuICAvLyByZWdpb24gIyMjIyMjIEFjY2Vzc29yZW4sIGRpZSBhdWYgZGllIHN0ZXBwZXJDb25maWd1cmF0aW9uIHZlcndlaXNlbiAjIyMjIyNcblxuICAvKioqKiBHZXR0ZXIvU2V0dGVyIGx1eEN1cnJlbnRTdGVwTnVtYmVyICoqKiovXG4gIGdldCBsdXhDdXJyZW50U3RlcE51bWJlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhDdXJyZW50U3RlcE51bWJlcjtcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBsdXhDdXJyZW50U3RlcE51bWJlcihzdGVwOiBudW1iZXIpIHtcbiAgICBpZiAoc3RlcCAhPT0gdGhpcy5sdXhDdXJyZW50U3RlcE51bWJlcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIE91dE9mQm91bmQtU3RlcHMgYWJmYW5nZW5cbiAgICAgICAgc3RlcCA9IHN0ZXAgPCAwID8gMCA6IHN0ZXA7XG4gICAgICAgIHN0ZXAgPSBzdGVwID49IHRoaXMubHV4U3RlcHMubGVuZ3RoID8gdGhpcy5sdXhTdGVwcy5sZW5ndGggLSAxIDogc3RlcDtcblxuICAgICAgICB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eEN1cnJlbnRTdGVwTnVtYmVyID0gc3RlcDtcbiAgICAgICAgdGhpcy5sdXhDdXJyZW50U3RlcE51bWJlckNoYW5nZS5lbWl0KHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4Q3VycmVudFN0ZXBOdW1iZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqKiogR2V0dGVyL1NldHRlciBsdXhVc2VDdXN0b21JY29ucyAqKioqL1xuICBnZXQgbHV4VXNlQ3VzdG9tSWNvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4VXNlQ3VzdG9tSWNvbnM7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbHV4VXNlQ3VzdG9tSWNvbnModXNlOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhVc2VDdXN0b21JY29ucyA9IHVzZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlSWNvbnMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4RWRpdGVkSWNvbk5hbWUgKioqKi9cbiAgZ2V0IGx1eEVkaXRlZEljb25OYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eEVkaXRlZEljb25OYW1lO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eEVkaXRlZEljb25OYW1lKGljb25OYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eEVkaXRlZEljb25OYW1lID0gaWNvbk5hbWU7XG4gICAgdGhpcy51cGRhdGVJY29ucygpO1xuICB9XG5cbiAgLyoqKiogR2V0dGVyL1NldHRlciBsdXhWZXJ0aWNhbFN0ZXBwZXIgKioqKi9cbiAgZ2V0IGx1eFZlcnRpY2FsU3RlcHBlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhWZXJ0aWNhbFN0ZXBwZXI7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbHV4VmVydGljYWxTdGVwcGVyKHZlcnRpY2FsOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhWZXJ0aWNhbFN0ZXBwZXIgPSB2ZXJ0aWNhbDtcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4TGluZWFyICoqKiovXG4gIGdldCBsdXhMaW5lYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4TGluZWFyO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eExpbmVhcihsaW5lYXI6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eExpbmVhciA9IGxpbmVhcjtcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4RGlzYWJsZWQgKioqKi9cbiAgZ2V0IGx1eERpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eERpc2FibGVkO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eERpc2FibGVkKGRpc2FibGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhEaXNhYmxlZCA9IGRpc2FibGVkO1xuICB9XG5cbiAgLyoqKiogR2V0dGVyL1NldHRlciBsdXhTaG93TmF2aWdhdGlvbkJ1dHRvbnMgKioqKi9cbiAgZ2V0IGx1eFNob3dOYXZpZ2F0aW9uQnV0dG9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhTaG93TmF2aWdhdGlvbkJ1dHRvbnM7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbHV4U2hvd05hdmlnYXRpb25CdXR0b25zKHNob3dOYXZCdXR0b25zOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhTaG93TmF2aWdhdGlvbkJ1dHRvbnMgPSBzaG93TmF2QnV0dG9ucztcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4SG9yaXpvbnRhbFN0ZXBBbmltYXRpb25BY3RpdmUgKioqKi9cbiAgZ2V0IGx1eEhvcml6b250YWxTdGVwQW5pbWF0aW9uQWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBwZXJDb25maWd1cmF0aW9uLmx1eEhvcml6b250YWxTdGVwQW5pbWF0aW9uQWN0aXZlO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eEhvcml6b250YWxTdGVwQW5pbWF0aW9uQWN0aXZlKGFuaW1hdGlvbkFjdGl2ZTogYm9vbGVhbikge1xuICAgIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4SG9yaXpvbnRhbFN0ZXBBbmltYXRpb25BY3RpdmUgPSBhbmltYXRpb25BY3RpdmU7XG4gIH1cblxuICAvKioqKiBHZXR0ZXIvU2V0dGVyIGx1eFByZXZpb3VzQnV0dG9uQ29uZmlnICoqKiovXG4gIGdldCBsdXhQcmV2aW91c0J1dHRvbkNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhQcmV2aW91c0J1dHRvbkNvbmZpZztcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBsdXhQcmV2aW91c0J1dHRvbkNvbmZpZyhjb25maWc6IElMdXhTdGVwcGVyQnV0dG9uQ29uZmlnKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhQcmV2aW91c0J1dHRvbkNvbmZpZyA9IGNvbmZpZyA/IGNvbmZpZyA6IHRoaXMuX0RFRkFVTFRfUFJFVl9CVE5fQ09ORjtcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4TmV4dEJ1dHRvbkNvbmZpZyAqKioqL1xuICBnZXQgbHV4TmV4dEJ1dHRvbkNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhOZXh0QnV0dG9uQ29uZmlnO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eE5leHRCdXR0b25Db25maWcoY29uZmlnOiBJTHV4U3RlcHBlckJ1dHRvbkNvbmZpZykge1xuICAgIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4TmV4dEJ1dHRvbkNvbmZpZyA9IGNvbmZpZyA/IGNvbmZpZyA6IHRoaXMuX0RFRkFVTFRfTkVYVF9CVE5fQ09ORjtcbiAgfVxuXG4gIC8qKioqIEdldHRlci9TZXR0ZXIgbHV4RmluaXNoQnV0dG9uQ29uZmlnICoqKiovXG4gIGdldCBsdXhGaW5pc2hCdXR0b25Db25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHBlckNvbmZpZ3VyYXRpb24ubHV4RmluaXNoQnV0dG9uQ29uZmlnO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IGx1eEZpbmlzaEJ1dHRvbkNvbmZpZyhjb25maWc6IElMdXhTdGVwcGVyQnV0dG9uQ29uZmlnKSB7XG4gICAgdGhpcy5zdGVwcGVyQ29uZmlndXJhdGlvbi5sdXhGaW5pc2hCdXR0b25Db25maWcgPSBjb25maWcgPyBjb25maWcgOiB0aGlzLl9ERUZBVUxUX0ZJTl9CVE5fQ09ORjtcbiAgfVxuXG4gIC8vIGVuZHJlZ2lvblxufVxuIl19